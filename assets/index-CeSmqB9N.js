(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var Cf={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function B0(){if(cy)return zl;cy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var hy;function q0(){return hy||(hy=1,Cf.exports=B0()),Cf.exports}var it=q0(),Vf={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function k0(){if(fy)return Tt;fy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function I(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||Y}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function At(){}At.prototype=Z.prototype;function yt(C,K,et){this.props=C,this.context=K,this.refs=nt,this.updater=et||Y}var ht=yt.prototype=new At;ht.constructor=yt,$(ht,Z.prototype),ht.isPureReactComponent=!0;var kt=Array.isArray,Et={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function M(C,K,et,J,ct,bt){return et=bt.ref,{$$typeof:s,type:C,key:K,ref:et!==void 0?et:null,props:bt}}function S(C,K){return M(C.type,K,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function N(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return K[et]})}var O=/\/+/g;function U(C,K){return typeof C=="object"&&C!==null&&C.key!=null?N(""+C.key):K.toString(36)}function R(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,K,et,J,ct){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var pt=!1;if(C===null)pt=!0;else switch(bt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(C.$$typeof){case s:case e:pt=!0;break;case A:return pt=C._init,re(pt(C._payload),K,et,J,ct)}}if(pt)return ct=ct(C),pt=J===""?"."+U(C,0):J,kt(ct)?(et="",pt!=null&&(et=pt.replace(O,"$&/")+"/"),re(ct,K,et,"",function(zn){return zn})):ct!=null&&(w(ct)&&(ct=S(ct,et+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(O,"$&/")+"/")+pt)),K.push(ct)),1;pt=0;var we=J===""?".":J+":";if(kt(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],bt=we+U(J,Zt),pt+=re(J,K,et,bt,ct);else if(Zt=I(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,bt=we+U(J,Zt++),pt+=re(J,K,et,bt,ct);else if(bt==="object"){if(typeof C.then=="function")return re(Me(C),K,et,J,ct);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return pt}function j(C,K,et){if(C==null)return C;var J=[],ct=0;return re(C,J,"","",function(bt){return K.call(et,bt,ct++)}),J}function tt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Tt.Children={map:j,forEach:function(C,K,et){j(C,function(){K.apply(this,arguments)},et)},count:function(C){var K=0;return j(C,function(){K++}),K},toArray:function(C){return j(C,function(K){return K})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=Z,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=yt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Et.H.useMemoCache(C)}},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,K,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),ct=C.key,bt=void 0;if(K!=null)for(pt in K.ref!==void 0&&(bt=void 0),K.key!==void 0&&(ct=""+K.key),K)!Pt.call(K,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&K.ref===void 0||(J[pt]=K[pt]);var pt=arguments.length-2;if(pt===1)J.children=et;else if(1<pt){for(var we=Array(pt),Zt=0;Zt<pt;Zt++)we[Zt]=arguments[Zt+2];J.children=we}return M(C.type,ct,void 0,void 0,bt,J)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,K,et){var J,ct={},bt=null;if(K!=null)for(J in K.key!==void 0&&(bt=""+K.key),K)Pt.call(K,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=K[J]);var pt=arguments.length-2;if(pt===1)ct.children=et;else if(1<pt){for(var we=Array(pt),Zt=0;Zt<pt;Zt++)we[Zt]=arguments[Zt+2];ct.children=we}if(C&&C.defaultProps)for(J in pt=C.defaultProps,pt)ct[J]===void 0&&(ct[J]=pt[J]);return M(C,bt,void 0,void 0,null,ct)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=w,Tt.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},Tt.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Tt.startTransition=function(C){var K=Et.T,et={};Et.T=et;try{var J=C(),ct=Et.S;ct!==null&&ct(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,ut)}catch(bt){ut(bt)}finally{Et.T=K}},Tt.unstable_useCacheRefresh=function(){return Et.H.useCacheRefresh()},Tt.use=function(C){return Et.H.use(C)},Tt.useActionState=function(C,K,et){return Et.H.useActionState(C,K,et)},Tt.useCallback=function(C,K){return Et.H.useCallback(C,K)},Tt.useContext=function(C){return Et.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,K){return Et.H.useDeferredValue(C,K)},Tt.useEffect=function(C,K,et){var J=Et.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,K)},Tt.useId=function(){return Et.H.useId()},Tt.useImperativeHandle=function(C,K,et){return Et.H.useImperativeHandle(C,K,et)},Tt.useInsertionEffect=function(C,K){return Et.H.useInsertionEffect(C,K)},Tt.useLayoutEffect=function(C,K){return Et.H.useLayoutEffect(C,K)},Tt.useMemo=function(C,K){return Et.H.useMemo(C,K)},Tt.useOptimistic=function(C,K){return Et.H.useOptimistic(C,K)},Tt.useReducer=function(C,K,et){return Et.H.useReducer(C,K,et)},Tt.useRef=function(C){return Et.H.useRef(C)},Tt.useState=function(C){return Et.H.useState(C)},Tt.useSyncExternalStore=function(C,K,et){return Et.H.useSyncExternalStore(C,K,et)},Tt.useTransition=function(){return Et.H.useTransition()},Tt.version="19.1.1",Tt}var dy;function fd(){return dy||(dy=1,Vf.exports=k0()),Vf.exports}var Je=fd(),If={exports:{}},Pl={},Nf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function j0(){return my||(my=1,(function(s){function e(j,tt){var ut=j.length;j.push(tt);t:for(;0<ut;){var Lt=ut-1>>>1,C=j[Lt];if(0<u(C,tt))j[Lt]=tt,j[ut]=C,ut=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ut=j.pop();if(ut!==tt){j[0]=ut;t:for(var Lt=0,C=j.length,K=C>>>1;Lt<K;){var et=2*(Lt+1)-1,J=j[et],ct=et+1,bt=j[ct];if(0>u(J,ut))ct<C&&0>u(bt,J)?(j[Lt]=bt,j[ct]=ut,Lt=ct):(j[Lt]=J,j[et]=ut,Lt=et);else if(ct<C&&0>u(bt,ut))j[Lt]=bt,j[ct]=ut,Lt=ct;else break t}}return tt}function u(j,tt){var ut=j.sortIndex-tt.sortIndex;return ut!==0?ut:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,D=null,I=3,Y=!1,$=!1,nt=!1,Z=!1,At=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function kt(j){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=j)a(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function Et(j){if(nt=!1,kt(j),!$)if(i(_)!==null)$=!0,Pt||(Pt=!0,U());else{var tt=i(v);tt!==null&&re(Et,tt.startTime-j)}}var Pt=!1,M=-1,S=5,w=-1;function N(){return Z?!0:!(s.unstable_now()-w<S)}function O(){if(Z=!1,Pt){var j=s.unstable_now();w=j;var tt=!0;try{t:{$=!1,nt&&(nt=!1,yt(M),M=-1),Y=!0;var ut=I;try{e:{for(kt(j),D=i(_);D!==null&&!(D.expirationTime>j&&N());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,I=D.priorityLevel;var C=Lt(D.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){D.callback=C,kt(j),tt=!0;break e}D===i(_)&&a(_),kt(j)}else a(_);D=i(_)}if(D!==null)tt=!0;else{var K=i(v);K!==null&&re(Et,K.startTime-j),tt=!1}}break t}finally{D=null,I=ut,Y=!1}tt=void 0}}finally{tt?U():Pt=!1}}}var U;if(typeof ht=="function")U=function(){ht(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=O,U=function(){Me.postMessage(null)}}else U=function(){At(O,0)};function re(j,tt){M=At(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(j){switch(I){case 1:case 2:case 3:var tt=3;break;default:tt=I}var ut=I;I=tt;try{return j()}finally{I=ut}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ut=I;I=j;try{return tt()}finally{I=ut}},s.unstable_scheduleCallback=function(j,tt,ut){var Lt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,j={id:A++,callback:tt,priorityLevel:j,startTime:ut,expirationTime:C,sortIndex:-1},ut>Lt?(j.sortIndex=ut,e(v,j),i(_)===null&&j===i(v)&&(nt?(yt(M),M=-1):nt=!0,re(Et,ut-Lt))):(j.sortIndex=C,e(_,j),$||Y||($=!0,Pt||(Pt=!0,U()))),j},s.unstable_shouldYield=N,s.unstable_wrapCallback=function(j){var tt=I;return function(){var ut=I;I=tt;try{return j.apply(this,arguments)}finally{I=ut}}}})(Of)),Of}var gy;function H0(){return gy||(gy=1,Nf.exports=j0()),Nf.exports}var Mf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function G0(){if(py)return Ge;py=1;var s=fd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:D==null?null:""+D,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},Ge.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Ge.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Ge.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ge.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),I=typeof v.integrity=="string"?v.integrity:void 0,Y=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:I,fetchPriority:Y}):A==="script"&&a.d.X(_,{crossOrigin:D,integrity:I,fetchPriority:Y,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ge.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Ge.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ge.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Ge.requestFormReset=function(_){a.d.r(_)},Ge.unstable_batchedUpdates=function(_,v){return _(v)},Ge.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var yy;function Q0(){if(yy)return Mf.exports;yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mf.exports=G0(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function Y0(){if(_y)return Pl;_y=1;var s=H0(),e=fd(),i=Q0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),At=Symbol.for("react.provider"),yt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case Et:return"Suspense";case Pt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case yt:return(t._context.displayName||"Context")+".Consumer";case kt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:Me(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Me(t(n))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function K(t){return{current:t}}function et(t){0>C||(t.current=Lt[C],Lt[C]=null,C--)}function J(t,n){C++,Lt[C]=t.current,t.current=n}var ct=K(null),bt=K(null),pt=K(null),we=K(null);function Zt(t,n){switch(J(pt,n),J(bt,t),J(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Pp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Pp(n),t=Bp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ct),J(ct,t)}function zn(){et(ct),et(bt),et(pt)}function Li(t){t.memoizedState!==null&&J(we,t);var n=ct.current,r=Bp(n,t.type);n!==r&&(J(bt,t),J(ct,r))}function si(t){bt.current===t&&(et(ct),et(bt)),we.current===t&&(et(we),Ol._currentValue=ut)}var Rr=Object.prototype.hasOwnProperty,wr=s.unstable_scheduleCallback,Dr=s.unstable_cancelCallback,Vs=s.unstable_shouldYield,cu=s.unstable_requestPaint,gn=s.unstable_now,Dc=s.unstable_getCurrentPriorityLevel,Is=s.unstable_ImmediatePriority,ya=s.unstable_UserBlockingPriority,Cr=s.unstable_NormalPriority,Cc=s.unstable_LowPriority,_a=s.unstable_IdlePriority,Ns=s.log,hu=s.unstable_setDisableYieldValue,ae=null,jt=null;function an(t){if(typeof Ns=="function"&&hu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ae,t)}catch{}}var je=Math.clz32?Math.clz32:Vr,fu=Math.log,Vc=Math.LN2;function Vr(t){return t>>>=0,t===0?32:31-(fu(t)/Vc|0)|0}var Ir=256,Nr=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function va(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Vn(l):(y&=E,y!==0?c=Vn(y):r||(r=E&~t,r!==0&&(c=Vn(r))))):(E=l&~f,E!==0?c=Vn(E):y!==0?c=Vn(y):r||(r=l&~t,r!==0&&(c=Vn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Or(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Os(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ms(){var t=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),t}function xs(){var t=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),t}function li(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ui(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Us(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),F=1<<H;E[H]=0,b[H]=-1;var B=P[H];if(B!==null)for(P[H]=null,H=0;H<B.length;H++){var q=B[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Pn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Pn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-je(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ls(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-je(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:ry(t.type))}function du(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,fe="__reactProps$"+te,pn="__reactContainer$"+te,zs="__reactEvents$"+te,Ic="__reactListeners$"+te,Bi="__reactHandles$"+te,mu="__reactResources$"+te,Mr="__reactMarker$"+te;function qi(t){delete t[ve],delete t[fe],delete t[zs],delete t[Ic],delete t[Bi]}function oi(t){var n=t[ve];if(n)return n;for(var r=t.parentNode;r;){if(n=r[pn]||r[ve]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Hp(t);t!==null;){if(r=t[ve])return r;t=Hp(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[ve]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Xe(t){var n=t[mu];return n||(n=t[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Mr]=!0}var Ps=new Set,Ta={};function In(t,n){ci(t,n),ci(t+"Capture",n)}function ci(t,n){for(Ta[t]=n,t=0;t<n.length;t++)Ps.add(n[t])}var gu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},xr={};function yu(t){return Rr.call(xr,t)?!0:Rr.call(pu,t)?!1:gu.test(t)?xr[t]=!0:(pu[t]=!0,!1)}function ki(t,n,r){if(yu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function xe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Ur,_u;function hi(t){if(Ur===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ur=n&&n[1]||"",_u=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+t+_u}var Aa=!1;function Sa(t,n){if(!t||Aa)return"";Aa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Aa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function Bs(t){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return Sa(t.type,!1);case 11:return Sa(t.type.render,!1);case 1:return Sa(t.type,!0);case 31:return hi("Activity");default:return""}}function ba(t){try{var n="";do n+=Bs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Nc(t){var n=qs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ra(t){t._valueTracker||(t._valueTracker=Nc(t))}function ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=qs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Oc=/[\n"\\]/g;function de(t){return t.replace(Oc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?ji(t,y,Ke(n)):r!=null?ji(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function zr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function ji(t,n,r){n==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function fi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Pr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Br=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Br.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function js(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&vu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&vu(t,f,n[f])}function Hs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var di=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mi=null,gi=null;function Gs(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ks(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&fi(t,!!r.multiple,n,!1)}}}var jn=!1;function Eu(t,n,r){if(jn)return t(n,r);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(mi!==null||gi!==null)&&(mo(),mi&&(n=mi,t=gi,gi=mi=null,Gs(n),t)))for(n=0;n<t.length;n++)Gs(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Nn)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{vn=!1}var Hn=null,Hi=null,pi=null;function Qs(){if(pi)return pi;var t,n=Hi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return pi=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Ys(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Ys,this.isPropagationStopped=Ys,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=De(Bt),jr=A({},Bt,{view:0,detail:0}),Tu=De(jr),Ca,Va,Yn,Hr=A({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ca=t.screenX-Yn.screenX,Va=t.screenY-Yn.screenY):Va=Ca=0,Yn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),En=De(Hr),Au=A({},Hr,{dataTransfer:0}),Uc=De(Au),Gr=A({},jr,{relatedTarget:0}),Ia=De(Gr),Fs=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=De(Fs),Su=A({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=De(Su),Lc=A({},Bt,{data:0}),Xs=De(Lc),Qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ks(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ru[t])?!!n[t]:!1}function Yr(){return Ks}var wu=A({},jr,{key:function(t){if(t.key){var n=Qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=De(wu),Du=A({},Hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zs=De(Du),yi=A({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Cu=De(yi),Vu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iu=De(Vu),Nu=A({},Hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=De(Nu),Ze=A({},Bt,{newState:0,oldState:0}),Ou=De(Ze),Mu=[9,13,27,32],Fn=Nn&&"CompositionEvent"in window,o=null;Nn&&"documentMode"in document&&(o=document.documentMode);var m=Nn&&"TextEvent"in window&&!o,p=Nn&&(!Fn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return Mu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function Ee(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Fn&&k(t,n)?(t=Qs(),pi=Hi=Hn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function _i(t,n,r,l){mi?gi?gi.push(l):gi=[l]:mi=l,n=Eo(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Xn=null;function $s(t){Mp(t,0)}function xu(t){var n=qn(t);if(ks(n))return t}function tm(t,n){if(t==="change")return n}var em=!1;if(Nn){var zc;if(Nn){var Pc="oninput"in document;if(!Pc){var nm=document.createElement("div");nm.setAttribute("oninput","return;"),Pc=typeof nm.oninput=="function"}zc=Pc}else zc=!1;em=zc&&(!document.documentMode||9<document.documentMode)}function im(){Ue&&(Ue.detachEvent("onpropertychange",rm),Xn=Ue=null)}function rm(t){if(t.propertyName==="value"&&xu(Xn)){var n=[];_i(n,Xn,t,_n(t)),Eu($s,n)}}function gE(t,n,r){t==="focusin"?(im(),Ue=n,Xn=r,Ue.attachEvent("onpropertychange",rm)):t==="focusout"&&im()}function pE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Xn)}function yE(t,n){if(t==="click")return xu(n)}function _E(t,n){if(t==="input"||t==="change")return xu(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:vE;function Js(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Rr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,n){var r=am(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=am(r)}}function lm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?lm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function um(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Lr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Lr(t.document)}return n}function Bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var EE=Nn&&"documentMode"in document&&11>=document.documentMode,Ua=null,qc=null,Ws=null,kc=!1;function om(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kc||Ua==null||Ua!==Lr(l)||(l=Ua,"selectionStart"in l&&Bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ws&&Js(Ws,l)||(Ws=l,l=Eo(qc,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ua)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},jc={},cm={};Nn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Xr(t){if(jc[t])return jc[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in cm)return jc[t]=n[r];return t}var hm=Xr("animationend"),fm=Xr("animationiteration"),dm=Xr("animationstart"),TE=Xr("transitionrun"),AE=Xr("transitionstart"),SE=Xr("transitioncancel"),mm=Xr("transitionend"),gm=new Map,Hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hc.push("scrollEnd");function On(t,n){gm.set(t,n),In(n,[t])}var pm=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=pm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ba(n)},pm.set(t,n),n)}return{value:t,source:n,stack:ba(n)}}var An=[],za=0,Gc=0;function Uu(){for(var t=za,n=Gc=za=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&ym(r,c,f)}}function Lu(t,n,r,l){An[za++]=t,An[za++]=n,An[za++]=r,An[za++]=l,Gc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Qc(t,n,r,l){return Lu(t,n,r,l),zu(t)}function Pa(t,n){return Lu(t,null,null,n),zu(t)}function ym(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-je(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function zu(t){if(50<bl)throw bl=0,$h=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={};function bE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new bE(t,n,r,l)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function _m(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Pu(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Yc(t)&&(y=1);else if(typeof t=="string")y=w0(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=un(31,r,n,c),t.elementType=w,t.lanes=f,t;case $:return Kr(r.children,c,f,n);case nt:y=8,c|=24;break;case Z:return t=un(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case Et:return t=un(13,r,n,c),t.elementType=Et,t.lanes=f,t;case Pt:return t=un(19,r,n,c),t.elementType=Pt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case At:case ht:y=10;break t;case yt:y=9;break t;case kt:y=11;break t;case M:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Kr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function Fc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function Xc(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qa=[],ka=0,Bu=null,qu=0,Sn=[],bn=0,Zr=null,Ei=1,Ti="";function $r(t,n){qa[ka++]=qu,qa[ka++]=Bu,Bu=t,qu=n}function vm(t,n,r){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Zr,Zr=t;var l=Ei;t=Ti;var c=32-je(l)-1;l&=~(1<<c),r+=1;var f=32-je(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ei=1<<32-je(n)+c|r<<c|l,Ti=f+t}else Ei=1<<f|r<<c|l,Ti=t}function Kc(t){t.return!==null&&($r(t,1),vm(t,1,0))}function Zc(t){for(;t===Bu;)Bu=qa[--ka],qa[ka]=null,qu=qa[--ka],qa[ka]=null;for(;t===Zr;)Zr=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var $e=null,se=null,zt=!1,Jr=null,Kn=!1,$c=Error(a(519));function Wr(t){var n=Error(a(418,""));throw nl(Tn(n,t)),$c}function Em(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[ve]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<wl.length;r++)Dt(wl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),zr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ra(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Pr(n,l.value,l.defaultValue,l.children),Ra(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||zp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=To),n=!0):n=!1,n||Wr(t)}function Tm(t){for($e=t.return;$e;)switch($e.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:$e=$e.return}}function tl(t){if(t!==$e)return!1;if(!zt)return Tm(t),zt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||mf(t.type,t.memoizedProps)),r=!r),r&&se&&Wr(t),Tm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,ar(t.type)?(t=_f,_f=null,se=t):se=n):se=$e?xn(t.stateNode.nextSibling):null;return!0}function el(){se=$e=null,zt=!1}function Am(){var t=Jr;return t!==null&&(en===null?en=t:en.push.apply(en,t),Jr=null),t}function nl(t){Jr===null?Jr=[t]:Jr.push(t)}var Jc=K(null),ta=null,Ai=null;function Gi(t,n,r){J(Jc,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=Jc.current,et(Jc)}function Wc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function th(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Wc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Wc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function il(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===we.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}c=c.return}t!==null&&th(n,t,r,l),n.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Sm(ta,t)}function ju(t,n){return ta===null&&ea(t),Sm(t,n)}function Sm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var RE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wE=s.unstable_scheduleCallback,DE=s.unstable_NormalPriority,Ae={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new RE,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&wE(DE,function(){t.controller.abort()})}var al=null,nh=0,ja=0,Ha=null;function CE(t,n){if(al===null){var r=al=[];nh=0,ja=af(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return nh++,n.then(bm,bm),n}function bm(){if(--nh===0&&al!==null){Ha!==null&&(Ha.status="fulfilled");var t=al;al=null,ja=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function VE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Rm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&CE(t,n),Rm!==null&&Rm(t,n)};var na=K(null);function ih(){var t=na.current;return t!==null?t:$t.pooledCache}function Hu(t,n){n===null?J(na,na.current):J(na,n.pool)}function wm(){var t=ih();return t===null?null:{parent:Ae._currentValue,pool:t}}var sl=Error(a(460)),Dm=Error(a(474)),Gu=Error(a(542)),rh={then:function(){}};function Cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qu(){}function Vm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Qu,Qu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t;default:if(typeof n.status=="string")n.then(Qu,Qu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t}throw ll=n,sl}}var ll=null;function Im(){if(ll===null)throw Error(a(459));var t=ll;return ll=null,t}function Nm(t){if(t===sl||t===Gu)throw Error(a(483))}var Qi=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=zu(t),ym(t,null,r),n}return Lu(t,l,n,r),zu(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ls(t,r)}}function lh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uh=!1;function ol(){if(uh){var t=Ha;if(t!==null)throw t}}function cl(t,n,r,l){uh=!1;var c=t.updateQueue;Qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ot&B)===B:(l&B)===B){B!==0&&B===ja&&(uh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=t,ft=E;B=n;var Xt=r;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){F=gt.call(Xt,F,B);break t}F=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,B=typeof gt=="function"?gt.call(Xt,F,B):gt,B==null)break t;F=A({},F,B);break t;case 2:Qi=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=q,b=F):H=H.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),er|=y,t.lanes=y,t.memoizedState=F}}function Om(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Mm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Om(r[t],n)}var Ga=K(null),Yu=K(0);function xm(t,n){t=Ii,J(Yu,t),J(Ga,n),Ii=t|n.baseLanes}function oh(){J(Yu,Ii),J(Ga,Ga.current)}function ch(){Ii=Yu.current,et(Ga),et(Yu)}var Xi=0,St=null,Yt=null,me=null,Fu=!1,Qa=!1,ia=!1,Xu=0,hl=0,Ya=null,IE=0;function oe(){throw Error(a(321))}function hh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function fh(t,n,r,l,c,f){return Xi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?yg:_g,ia=!1,f=r(l,c),ia=!1,Qa&&(f=Lm(n,r,l,c)),Um(t),f}function Um(t){j.H=to;var n=Yt!==null&&Yt.next!==null;if(Xi=0,me=Yt=St=null,Fu=!1,hl=0,Ya=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&ku(t)&&(Ve=!0))}function Lm(t,n,r,l){St=t;var c=0;do{if(Qa&&(Ya=null),hl=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,me=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=zE,f=n(r,l)}while(Qa);return f}function NE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(St.flags|=1024),n}function dh(){var t=Xu!==0;return Xu=0,t}function mh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function gh(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}Xi=0,me=Yt=St=null,Qa=!1,hl=Xu=0,Ya=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ya===null&&(Ya=[]),t=Vm(Ya,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?yg:_g),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ht)return He(t)}throw Error(a(438,String(t)))}function yh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ph(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function bi(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=ge();return _h(n,Yt,t)}function _h(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,H=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(Ot&F)===F:(Xi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===ja&&(H=!0);else if((Xi&B)===B){P=P.next,B===ja&&(H=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,St.lanes|=B,er|=B;F=P.action,ia&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=F,er|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ve=!0,H&&(r=Ha,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function vh(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function zm(t,n,r){var l=St,c=ge(),f=zt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Yt||c).memoizedState,r);y&&(c.memoizedState=r,Ve=!0),c=c.queue;var E=qm.bind(null,l,c,t);if(dl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Fa(9,$u(),Bm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Xi&124)!==0||Pm(l,n,r)}return r}function Pm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=ph(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Bm(t,n,r,l){n.value=r,n.getSnapshot=l,km(n)&&jm(t)}function qm(t,n,r){return r(function(){km(n)&&jm(t)})}function km(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function jm(t){var n=Pa(t,2);n!==null&&dn(n,t,2)}function Eh(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),ia){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},n}function Hm(t,n,r,l){return t.baseState=r,_h(t,Yt,typeof l=="function"?l:bi)}function OE(t,n,r,l,c){if(Wu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};j.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Gm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Gm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=j.T,y={};j.T=y;try{var E=r(c,l),b=j.S;b!==null&&b(y,E),Qm(t,n,E)}catch(P){Th(t,n,P)}finally{j.T=f}}else try{f=r(c,l),Qm(t,n,f)}catch(P){Th(t,n,P)}}function Qm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ym(t,n,l)},function(l){return Th(t,n,l)}):Ym(t,n,r)}function Ym(t,n,r){n.status="fulfilled",n.value=r,Fm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Gm(t,r)))}function Th(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Fm(n),n=n.next;while(n!==l)}t.action=null}function Fm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Xm(t,n){return n}function Km(t,n){if(zt){var r=$t.formState;if(r!==null){t:{var l=St;if(zt){if(se){e:{for(var c=se,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=xn(c.nextSibling),l=c.data==="F!";break t}}Wr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:n},r.queue=l,r=mg.bind(null,St,l),l.dispatch=r,l=Eh(!1),f=wh.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=OE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Zm(t){var n=ge();return $m(n,Yt,t)}function $m(t,n,r){if(n=_h(t,n,Xm)[0],t=Zu(bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(y){throw y===sl?Gu:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,Fa(9,$u(),ME.bind(null,c,r),null)),[l,f,t]}function ME(t,n){t.action=n}function Jm(t){var n=ge(),r=Yt;if(r!==null)return $m(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Fa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=ph(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function $u(){return{destroy:void 0,resource:void 0}}function Wm(){return ge().memoizedState}function Ju(t,n,r,l){var c=We();l=l===void 0?null:l,St.flags|=t,c.memoizedState=Fa(1|n,$u(),r,l)}function dl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&hh(l,Yt.memoizedState.deps)?c.memoizedState=Fa(n,f,r,l):(St.flags|=t,c.memoizedState=Fa(1|n,f,r,l))}function tg(t,n){Ju(8390656,8,t,n)}function eg(t,n){dl(2048,8,t,n)}function ng(t,n){return dl(4,2,t,n)}function ig(t,n){return dl(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ag(t,n,r){r=r!=null?r.concat([t]):null,dl(4,4,rg.bind(null,n,t),r)}function Ah(){}function sg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function lg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hh(n,l[1]))return l[0];if(l=t(),ia){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Sh(t,n,r){return r===void 0||(Xi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=cp(),St.lanes|=t,er|=t,r)}function ug(t,n,r,l){return ln(r,n)?r:Ga.current!==null?(t=Sh(t,r,l),ln(t,n)||(Ve=!0),t):(Xi&42)===0?(Ve=!0,t.memoizedState=r):(t=cp(),St.lanes|=t,er|=t,n)}function og(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=j.T,E={};j.T=E,wh(t,!1,n,r);try{var b=c(),P=j.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=VE(b,l);ml(t,n,H,fn(t))}else ml(t,n,l,fn(t))}catch(F){ml(t,n,{then:function(){},status:"rejected",reason:F},fn())}finally{tt.p=f,j.T=y}}function xE(){}function bh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=cg(t).queue;og(t,c,n,ut,r===null?xE:function(){return hg(t),r(l)})}function cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hg(t){var n=cg(t).next.queue;ml(t,n,{},fn())}function Rh(){return He(Ol)}function fg(){return ge().memoizedState}function dg(){return ge().memoizedState}function UE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Yi(r);var l=Fi(n,t,r);l!==null&&(dn(l,n,r),ul(l,n,r)),n={cache:eh()},t.payload=n;return}n=n.return}}function LE(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Wu(t)?gg(n,r):(r=Qc(t,n,r,l),r!==null&&(dn(r,t,l),pg(r,n,l)))}function mg(t,n,r){var l=fn();ml(t,n,r,l)}function ml(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))gg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return Lu(t,n,c,0),$t===null&&Uu(),!1}catch{}finally{}if(r=Qc(t,n,c,l),r!==null)return dn(r,t,l),pg(r,n,l),!0}return!1}function wh(t,n,r,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(a(479))}else n=Qc(t,r,l,2),n!==null&&dn(n,t,2)}function Wu(t){var n=t.alternate;return t===St||n!==null&&n===St}function gg(t,n){Qa=Fu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function pg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ls(t,r)}}var to={readContext:He,use:Ku,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},yg={readContext:He,use:Ku,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:tg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ju(4194308,4,rg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(ia){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(ia){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=LE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Eh(t);var n=t.queue,r=mg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ah,useDeferredValue:function(t,n){var r=We();return Sh(r,t,n)},useTransition:function(){var t=Eh(!1);return t=og.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=We();if(zt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ot&124)!==0||Pm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,tg(qm.bind(null,l,f,t),[t]),l.flags|=2048,Fa(9,$u(),Bm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=$t.identifierPrefix;if(zt){var r=Ti,l=Ei;r=(l&~(1<<32-je(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Xu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=IE++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Rh,useFormState:Km,useActionState:Km,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:yh,useCacheRefresh:function(){return We().memoizedState=UE.bind(null,St)}},_g={readContext:He,use:Ku,useCallback:sg,useContext:He,useEffect:eg,useImperativeHandle:ag,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:Zu,useRef:Wm,useState:function(){return Zu(bi)},useDebugValue:Ah,useDeferredValue:function(t,n){var r=ge();return ug(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Zu(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:zm,useId:fg,useHostTransitionStatus:Rh,useFormState:Zm,useActionState:Zm,useOptimistic:function(t,n){var r=ge();return Hm(r,Yt,t,n)},useMemoCache:yh,useCacheRefresh:dg},zE={readContext:He,use:Ku,useCallback:sg,useContext:He,useEffect:eg,useImperativeHandle:ag,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:vh,useRef:Wm,useState:function(){return vh(bi)},useDebugValue:Ah,useDeferredValue:function(t,n){var r=ge();return Yt===null?Sh(r,t,n):ug(r,Yt.memoizedState,t,n)},useTransition:function(){var t=vh(bi)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:zm,useId:fg,useHostTransitionStatus:Rh,useFormState:Jm,useActionState:Jm,useOptimistic:function(t,n){var r=ge();return Yt!==null?Hm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:yh,useCacheRefresh:dg},Xa=null,gl=0;function eo(t){var n=gl;return gl+=1,Xa===null&&(Xa=[]),Vm(Xa,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function no(t,n){throw n.$$typeof===D?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function vg(t){var n=t._init;return n(t._payload)}function Eg(t){function n(x,V){if(t){var z=x.deletions;z===null?(x.deletions=[V],x.flags|=16):z.push(V)}}function r(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=vi(x,V),x.index=0,x.sibling=null,x}function f(x,V,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<V?(x.flags|=67108866,V):z):(x.flags|=67108866,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,V,z,G){return V===null||V.tag!==6?(V=Fc(z,x.mode,G),V.return=x,V):(V=c(V,z),V.return=x,V)}function b(x,V,z,G){var st=z.type;return st===$?H(x,V,z.props.children,G,z.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&vg(st)===V.type)?(V=c(V,z.props),pl(V,z),V.return=x,V):(V=Pu(z.type,z.key,z.props,null,x.mode,G),pl(V,z),V.return=x,V)}function P(x,V,z,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Xc(z,x.mode,G),V.return=x,V):(V=c(V,z.children||[]),V.return=x,V)}function H(x,V,z,G,st){return V===null||V.tag!==7?(V=Kr(z,x.mode,G,st),V.return=x,V):(V=c(V,z),V.return=x,V)}function F(x,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Fc(""+V,x.mode,z),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return z=Pu(V.type,V.key,V.props,null,x.mode,z),pl(z,V),z.return=x,z;case Y:return V=Xc(V,x.mode,z),V.return=x,V;case S:var G=V._init;return V=G(V._payload),F(x,V,z)}if(re(V)||U(V))return V=Kr(V,x.mode,z,null),V.return=x,V;if(typeof V.then=="function")return F(x,eo(V),z);if(V.$$typeof===ht)return F(x,ju(x,V),z);no(x,V)}return null}function B(x,V,z,G){var st=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(x,V,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return z.key===st?b(x,V,z,G):null;case Y:return z.key===st?P(x,V,z,G):null;case S:return st=z._init,z=st(z._payload),B(x,V,z,G)}if(re(z)||U(z))return st!==null?null:H(x,V,z,G,null);if(typeof z.then=="function")return B(x,V,eo(z),G);if(z.$$typeof===ht)return B(x,V,ju(x,z),G);no(x,z)}return null}function q(x,V,z,G,st){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(z)||null,E(V,x,""+G,st);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return x=x.get(G.key===null?z:G.key)||null,b(V,x,G,st);case Y:return x=x.get(G.key===null?z:G.key)||null,P(V,x,G,st);case S:var Rt=G._init;return G=Rt(G._payload),q(x,V,z,G,st)}if(re(G)||U(G))return x=x.get(z)||null,H(V,x,G,st,null);if(typeof G.then=="function")return q(x,V,z,eo(G),st);if(G.$$typeof===ht)return q(x,V,z,ju(V,G),st);no(V,G)}return null}function gt(x,V,z,G){for(var st=null,Rt=null,lt=V,dt=V=0,Ne=null;lt!==null&&dt<z.length;dt++){lt.index>dt?(Ne=lt,lt=null):Ne=lt.sibling;var Ut=B(x,lt,z[dt],G);if(Ut===null){lt===null&&(lt=Ne);break}t&&lt&&Ut.alternate===null&&n(x,lt),V=f(Ut,V,dt),Rt===null?st=Ut:Rt.sibling=Ut,Rt=Ut,lt=Ne}if(dt===z.length)return r(x,lt),zt&&$r(x,dt),st;if(lt===null){for(;dt<z.length;dt++)lt=F(x,z[dt],G),lt!==null&&(V=f(lt,V,dt),Rt===null?st=lt:Rt.sibling=lt,Rt=lt);return zt&&$r(x,dt),st}for(lt=l(lt);dt<z.length;dt++)Ne=q(lt,x,dt,z[dt],G),Ne!==null&&(t&&Ne.alternate!==null&&lt.delete(Ne.key===null?dt:Ne.key),V=f(Ne,V,dt),Rt===null?st=Ne:Rt.sibling=Ne,Rt=Ne);return t&&lt.forEach(function(cr){return n(x,cr)}),zt&&$r(x,dt),st}function ft(x,V,z,G){if(z==null)throw Error(a(151));for(var st=null,Rt=null,lt=V,dt=V=0,Ne=null,Ut=z.next();lt!==null&&!Ut.done;dt++,Ut=z.next()){lt.index>dt?(Ne=lt,lt=null):Ne=lt.sibling;var cr=B(x,lt,Ut.value,G);if(cr===null){lt===null&&(lt=Ne);break}t&&lt&&cr.alternate===null&&n(x,lt),V=f(cr,V,dt),Rt===null?st=cr:Rt.sibling=cr,Rt=cr,lt=Ne}if(Ut.done)return r(x,lt),zt&&$r(x,dt),st;if(lt===null){for(;!Ut.done;dt++,Ut=z.next())Ut=F(x,Ut.value,G),Ut!==null&&(V=f(Ut,V,dt),Rt===null?st=Ut:Rt.sibling=Ut,Rt=Ut);return zt&&$r(x,dt),st}for(lt=l(lt);!Ut.done;dt++,Ut=z.next())Ut=q(lt,x,dt,Ut.value,G),Ut!==null&&(t&&Ut.alternate!==null&&lt.delete(Ut.key===null?dt:Ut.key),V=f(Ut,V,dt),Rt===null?st=Ut:Rt.sibling=Ut,Rt=Ut);return t&&lt.forEach(function(P0){return n(x,P0)}),zt&&$r(x,dt),st}function Xt(x,V,z,G){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case I:t:{for(var st=z.key;V!==null;){if(V.key===st){if(st=z.type,st===$){if(V.tag===7){r(x,V.sibling),G=c(V,z.props.children),G.return=x,x=G;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&vg(st)===V.type){r(x,V.sibling),G=c(V,z.props),pl(G,z),G.return=x,x=G;break t}r(x,V);break}else n(x,V);V=V.sibling}z.type===$?(G=Kr(z.props.children,x.mode,G,z.key),G.return=x,x=G):(G=Pu(z.type,z.key,z.props,null,x.mode,G),pl(G,z),G.return=x,x=G)}return y(x);case Y:t:{for(st=z.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(x,V.sibling),G=c(V,z.children||[]),G.return=x,x=G;break t}else{r(x,V);break}else n(x,V);V=V.sibling}G=Xc(z,x.mode,G),G.return=x,x=G}return y(x);case S:return st=z._init,z=st(z._payload),Xt(x,V,z,G)}if(re(z))return gt(x,V,z,G);if(U(z)){if(st=U(z),typeof st!="function")throw Error(a(150));return z=st.call(z),ft(x,V,z,G)}if(typeof z.then=="function")return Xt(x,V,eo(z),G);if(z.$$typeof===ht)return Xt(x,V,ju(x,z),G);no(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(x,V.sibling),G=c(V,z),G.return=x,x=G):(r(x,V),G=Fc(z,x.mode,G),G.return=x,x=G),y(x)):r(x,V)}return function(x,V,z,G){try{gl=0;var st=Xt(x,V,z,G);return Xa=null,st}catch(lt){if(lt===sl||lt===Gu)throw lt;var Rt=un(29,lt,null,x.mode);return Rt.lanes=G,Rt.return=x,Rt}finally{}}}var Ka=Eg(!0),Tg=Eg(!1),Rn=K(null),Zn=null;function Ki(t){var n=t.alternate;J(Se,Se.current&1),J(Rn,t),Zn===null&&(n===null||Ga.current!==null||n.memoizedState!==null)&&(Zn=t)}function Ag(t){if(t.tag===22){if(J(Se,Se.current),J(Rn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else Zi()}function Zi(){J(Se,Se.current),J(Rn,Rn.current)}function Ri(t){et(Rn),Zn===t&&(Zn=null),et(Se)}var Se=K(0);function io(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||yf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Dh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ch={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Yi(l);c.payload=n,r!=null&&(c.callback=r),n=Fi(t,c,l),n!==null&&(dn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Yi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Fi(t,c,l),n!==null&&(dn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Yi(r);l.tag=2,n!=null&&(l.callback=n),n=Fi(t,l,r),n!==null&&(dn(n,t,r),ul(n,t,r))}};function Sg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Js(r,l)||!Js(c,f):!0}function bg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var ro=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Rg(t){ro(t)}function wg(t){console.error(t)}function Dg(t){ro(t)}function ao(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,r){return r=Yi(r),r.tag=3,r.payload={element:null},r.callback=function(){ao(t,n)},r}function Vg(t){return t=Yi(t),t.tag=3,t}function Ig(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Cg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Cg(n,r,l),typeof c!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&il(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Zn===null?Wh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ef(t,l,c)),!1;case 22:return r.flags|=65536,l===rh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ef(t,l,c)),!1}throw Error(a(435,r.tag))}return ef(t,l,c),Wh(),!1}if(zt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==$c&&(t=Error(a(422),{cause:l}),nl(Tn(t,r)))):(l!==$c&&(n=Error(a(423),{cause:l}),nl(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=Vh(t.stateNode,l,c),lh(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),Sl===null?Sl=[f]:Sl.push(f),le!==4&&(le=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Vh(r.stateNode,l,t),lh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(nr===null||!nr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Vg(c),Ig(c,t,r,l),lh(r,c),!1}r=r.return}while(r!==null);return!1}var Ng=Error(a(461)),Ve=!1;function Le(t,n,r,l){n.child=t===null?Tg(n,null,r,l):Ka(n,t.child,r,l)}function Og(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=fh(t,n,r,y,f,c),E=dh(),t!==null&&!Ve?(mh(t,n,c),wi(t,n,c)):(zt&&E&&Kc(n),n.flags|=1,Le(t,n,l,c),n.child)}function Mg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,xg(t,n,f,l,c)):(t=Pu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!zh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Js,r(y,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function xg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Js(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,zh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Ih(t,n,r,l,c)}function Ug(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Lg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?xm(n,f):oh(),Ag(n);else return n.lanes=n.childLanes=536870912,Lg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Hu(n,f.cachePool),xm(n,f),Zi(),n.memoizedState=null):(t!==null&&Hu(n,null),oh(),Zi());return Le(t,n,c,r),n.child}function Lg(t,n,r,l){var c=ih();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Hu(n,null),oh(),Ag(n),t!==null&&il(t,n,l,!0),null}function so(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ih(t,n,r,l,c){return ea(n),r=fh(t,n,r,l,void 0,c),l=dh(),t!==null&&!Ve?(mh(t,n,c),wi(t,n,c)):(zt&&l&&Kc(n),n.flags|=1,Le(t,n,r,c),n.child)}function zg(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=Lm(n,l,r,c),Um(t),l=dh(),t!==null&&!Ve?(mh(t,n,f),wi(t,n,f)):(zt&&l&&Kc(n),n.flags|=1,Le(t,n,r,f),n.child)}function Pg(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Ba,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Dh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ch.enqueueReplaceState(f,f.state,null),cl(n,l,f,c),ol(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ra(r,E);f.props=b;var P=f.context,H=r.contextType;y=Ba,typeof H=="object"&&H!==null&&(y=He(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&bg(n,f,l,y),Qi=!1;var B=n.memoizedState;f.state=B,cl(n,l,f,c),ol(),P=n.memoizedState,E||B!==P||Qi?(typeof F=="function"&&(Dh(n,r,F,l),P=n.memoizedState),(b=Qi||Sg(n,r,b,l,B,P,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),y=n.memoizedProps,H=ra(r,y),f.props=H,F=n.pendingProps,B=f.context,P=r.contextType,b=Ba,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&bg(n,f,l,b),Qi=!1,B=n.memoizedState,f.state=B,cl(n,l,f,c),ol();var q=n.memoizedState;y!==F||B!==q||Qi||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof E=="function"&&(Dh(n,r,E,l),q=n.memoizedState),(H=Qi||Sg(n,r,H,l,B,q,b)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,so(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ka(n,t.child,null,c),n.child=Ka(n,null,r,c)):Le(t,n,r,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Bg(t,n,r,l){return el(),n.flags|=256,Le(t,n,r,l),n.child}var Nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Oh(t){return{baseLanes:t,cachePool:wm()}}function Mh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=wn),t}function qg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(zt){if(c?Ki(n):Zi(),zt){var E=se,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,se=null,b=!0):b=!1}b||Wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return yf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(Zi(),c=n.mode,E=lo({mode:"hidden",children:E},c),l=Kr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Oh(r),c.childLanes=Mh(t,y,r),n.memoizedState=Nh,l):(Ki(n),xh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Ki(n),n.flags&=-257,n=Uh(t,n,r)):n.memoizedState!==null?(Zi(),n.child=t.child,n.flags|=128,n=null):(Zi(),c=l.fallback,E=n.mode,l=lo({mode:"visible",children:l.children},E),c=Kr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ka(n,t.child,null,r),l=n.child,l.memoizedState=Oh(r),l.childLanes=Mh(t,y,r),n.memoizedState=Nh,n=c);else if(Ki(n),yf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,nl({value:l,source:null,stack:null}),n=Uh(t,n,r)}else if(Ve||il(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:zi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Pa(t,l),dn(y,t,l),Ng;E.data==="$?"||Wh(),n=Uh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=xn(E.nextSibling),$e=n,zt=!0,Jr=null,Kn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=Zr,Ei=t.id,Ti=t.overflow,Zr=n),n=xh(n,l.children),n.flags|=4096);return n}return c?(Zi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=vi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=vi(P,c):(c=Kr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Oh(r):(b=E.cachePool,b!==null?(P=Ae._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=wm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Mh(t,y,r),n.memoizedState=Nh,l):(Ki(n),r=t.child,t=r.sibling,r=vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function xh(t,n){return n=lo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function lo(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Uh(t,n,r){return Ka(n,t.child,null,r),t=xh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function kg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Wc(t.return,n,r)}function Lh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function jg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Le(t,n,l.children,r),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kg(t,r,n);else if(t.tag===19)kg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Se,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&io(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Lh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&io(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Lh(n,!0,r,null,f);break;case"together":Lh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),er|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(il(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function zh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function BE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Gi(n,Ae,t.memoizedState.cache),el();break;case 27:case 5:Li(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Gi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ki(n),n.flags|=128,null):(r&n.child.childLanes)!==0?qg(t,n,r):(Ki(n),t=wi(t,n,r),t!==null?t.sibling:null);Ki(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(il(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return jg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Ug(t,n,r);case 24:Gi(n,Ae,t.memoizedState.cache)}return wi(t,n,r)}function Hg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!zh(t,r)&&(n.flags&128)===0)return Ve=!1,BE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,zt&&(n.flags&1048576)!==0&&vm(n,qu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Yc(l)?(t=ra(l,t),n.tag=1,n=Pg(null,n,l,t,r)):(n.tag=0,n=Ih(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===kt){n.tag=11,n=Og(null,n,l,t,r);break t}else if(c===M){n.tag=14,n=Mg(null,n,l,t,r);break t}}throw n=Me(l)||l,Error(a(306,n,""))}}return n;case 0:return Ih(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),Pg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),cl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Gi(n,Ae,l),l!==f.cache&&th(n,[Ae],r,!0),ol(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Bg(t,n,l,r);break t}else if(l!==c){c=Tn(Error(a(424)),n),nl(c),n=Bg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=xn(t.firstChild),$e=n,zt=!0,Jr=null,Kn=!0,r=Tg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(el(),l===c){n=wi(t,n,r);break t}Le(t,n,l,r)}n=n.child}return n;case 26:return so(t,n),t===null?(r=Fp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,t=n.pendingProps,l=Ao(pt.current).createElement(r),l[ve]=n,l[fe]=t,Pe(l,r,t),ue(l),n.stateNode=l):n.memoizedState=Fp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Li(n),t===null&&zt&&(l=n.stateNode=Gp(n.type,n.pendingProps,pt.current),$e=n,Kn=!0,c=se,ar(n.type)?(_f=c,se=xn(l.firstChild)):se=c),Le(t,n,n.pendingProps.children,r),so(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&zt&&((c=l=se)&&(l=d0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,$e=n,se=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||Wr(n)),Li(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,mf(c,f)?l=null:y!==null&&mf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=fh(t,n,NE,null,null,r),Ol._currentValue=c),so(t,n),Le(t,n,l,r),n.child;case 6:return t===null&&zt&&((t=r=se)&&(r=m0(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,$e=n,se=null,t=!0):t=!1),t||Wr(n)),null;case 13:return qg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ka(n,null,l,r):Le(t,n,l,r),n.child;case 11:return Og(t,n,n.type,n.pendingProps,r);case 7:return Le(t,n,n.pendingProps,r),n.child;case 8:return Le(t,n,n.pendingProps.children,r),n.child;case 12:return Le(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Gi(n,n.type,l.value),Le(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=He(c),l=l(c),n.flags|=1,Le(t,n,l,r),n.child;case 14:return Mg(t,n,n.type,n.pendingProps,r);case 15:return xg(t,n,n.type,n.pendingProps,r);case 19:return jg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=lo(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Ug(t,n,r);case 24:return ea(n),l=He(Ae),t===null?(c=ih(),c===null&&(c=$t,f=eh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ah(n),Gi(n,Ae,c)):((t.lanes&r)!==0&&(sh(t,n),cl(n,null,null,r),ol()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Gi(n,Ae,l)):(l=f.cache,Gi(n,Ae,l),l!==c.cache&&th(n,[Ae],r,!0))),Le(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Di(t){t.flags|=4}function Gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jp(n)){if(n=Rn.current,n!==null&&((Ot&4194048)===Ot?Zn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Zn))throw ll=rh,Dm;t.flags|=8192}}function uo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?xs():536870912,t.lanes|=n,Wa|=n)}function yl(t,n){if(!zt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function qE(t,n,r){var l=n.pendingProps;switch(Zc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(tl(n)?Di(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Am())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(ne(n),Gg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),ne(n),Gg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),ne(n),n.flags&=-16777217),null;case 27:si(n),r=pt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=ct.current,tl(n)?Em(n):(t=Gp(c,l,r),n.stateNode=t,Di(n))}return ne(n),null;case 5:if(si(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=ct.current,tl(n))Em(n);else{switch(c=Ao(pt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[ve]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=pt.current,tl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=$e,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ve]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||zp(t.nodeValue,r)),t||Wr(n)}else t=Ao(t).createTextNode(l),t[ve]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=tl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ve]=n}else el(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Am(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),uo(n,n.updateQueue),ne(n),null;case 4:return zn(),t===null&&of(n.stateNode.containerInfo),ne(n),null;case 10:return Si(n.type),ne(n),null;case 19:if(et(Se),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=io(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,uo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)_m(r,t),r=r.sibling;return J(Se,Se.current&1|2),n.child}t=t.sibling}c.tail!==null&&gn()>ho&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=io(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uo(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return ne(n),null}else 2*gn()-c.renderingStartTime>ho&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,t=Se.current,J(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ri(n),ch(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&uo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(na),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function kE(t,n){switch(Zc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return si(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));el()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Se),null;case 4:return zn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),ch(),t!==null&&et(na),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function Qg(t,n){switch(Zc(n),n.tag){case 3:Si(Ae),zn();break;case 26:case 27:case 5:si(n);break;case 4:zn();break;case 13:Ri(n);break;case 19:et(Se);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),ch(),t!==null&&et(na);break;case 24:Si(Ae)}}function _l(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function $i(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(H){Kt(c,b,H)}}}l=l.next}while(l!==f)}}catch(H){Kt(n,n.return,H)}}function Yg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Mm(n,r)}catch(l){Kt(t,t.return,l)}}}function Fg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function vl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Kt(t,n,c)}}function $n(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function Xg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function Ph(t,n,r){try{var l=t.stateNode;u0(l,t.type,r,n),l[fe]=n}catch(c){Kt(t,t.return,c)}}function Kg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ar(t.type)||t.tag===4}function Bh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ar(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=To));else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(qh(t,n,r),t=t.sibling;t!==null;)qh(t,n,r),t=t.sibling}function oo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&ar(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(oo(t,n,r),t=t.sibling;t!==null;)oo(t,n,r),t=t.sibling}function Zg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,r),n[ve]=t,n[fe]=r}catch(f){Kt(t,t.return,f)}}var Ci=!1,ce=!1,kh=!1,$g=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function jE(t,n){if(t=t.containerInfo,ff=Co,t=um(t),Bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,H=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++H===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(df={focusedElem:t,selectionRange:r},Co=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var gt=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(gt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Kt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)pf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function Jg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ji(t,r),l&4&&_l(5,r);break;case 1:if(Ji(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Kt(r,r.return,y)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(r,r.return,y)}}l&64&&Yg(r),l&512&&vl(r,r.return);break;case 3:if(Ji(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Mm(t,n)}catch(y){Kt(r,r.return,y)}}break;case 27:n===null&&l&4&&Zg(r);case 26:case 5:Ji(t,r),n===null&&l&4&&Xg(r),l&512&&vl(r,r.return);break;case 12:Ji(t,r);break;case 13:Ji(t,r),l&4&&ep(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=$E.bind(null,r),g0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ci,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ci;var f=ce;Ci=l,(ce=n)&&!f?Wi(t,r,(r.subtreeFlags&8772)!==0):Ji(t,r),Ci=c,ce=f}break;case 30:break;default:Ji(t,r)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,tn=!1;function Vi(t,n,r){for(r=r.child;r!==null;)tp(t,n,r),r=r.sibling}function tp(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||$n(r,n),Vi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||$n(r,n);var l=ee,c=tn;ar(r.type)&&(ee=r.stateNode,tn=!1),Vi(t,n,r),Cl(r.stateNode),ee=l,tn=c;break;case 5:ce||$n(r,n);case 6:if(l=ee,c=tn,ee=null,Vi(t,n,r),ee=l,tn=c,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ee!==null&&(tn?(t=ee,jp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ll(t)):jp(ee,r.stateNode));break;case 4:l=ee,c=tn,ee=r.stateNode.containerInfo,tn=!0,Vi(t,n,r),ee=l,tn=c;break;case 0:case 11:case 14:case 15:ce||$i(2,r,n),ce||$i(4,r,n),Vi(t,n,r);break;case 1:ce||($n(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Fg(r,n,l)),Vi(t,n,r);break;case 21:Vi(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Vi(t,n,r),ce=l;break;default:Vi(t,n,r)}}function ep(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(r){Kt(n,n.return,r)}}function HE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(a(435,t.tag))}}function jh(t,n){var r=HE(t);n.forEach(function(l){var c=JE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function on(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(ar(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(a(160));tp(f,y,c),ee=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)np(n,t),n=n.sibling}var Mn=null;function np(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),cn(t),l&4&&($i(3,t,t.return),_l(3,t),$i(5,t,t.return));break;case 1:on(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),l&64&&Ci&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(on(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Mr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,r),f[ve]=t,ue(f),l=f;break t;case"link":var y=Zp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Zp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=t,ue(f),l=f}t.stateNode=l}else $p(c,t.type,t.stateNode);else t.stateNode=Kp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?$p(c,t.type,t.stateNode):Kp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,r.memoizedProps)}break;case 27:on(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),r!==null&&l&4&&Ph(t,t.memoizedProps,r.memoizedProps);break;case 5:if(on(n,t),cn(t),l&512&&(ce||r===null||$n(r,r.return)),t.flags&32){c=t.stateNode;try{yn(c,"")}catch(q){Kt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,r!==null?r.memoizedProps:c)),l&1024&&(kh=!0);break;case 6:if(on(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Kt(t,t.return,q)}}break;case 3:if(Ro=null,c=Mn,Mn=So(n.containerInfo),on(n,t),Mn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(n.containerInfo)}catch(q){Kt(t,t.return,q)}kh&&(kh=!1,ip(t));break;case 4:l=Mn,Mn=So(t.stateNode.containerInfo),on(n,t),cn(t),Mn=l;break;case 12:on(n,t),cn(t);break;case 13:on(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xh=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ci,H=ce;if(Ci=P||c,ce=H||b,on(n,t),ce=H,Ci=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ci||ce||aa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Kt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Kt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,jh(t,r))));break;case 19:on(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jh(t,l)));break;case 30:break;case 21:break;default:on(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Kg(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Bh(t);oo(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(yn(y,""),r.flags&=-33);var E=Bh(t);oo(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Bh(t);qh(t,P,b);break;default:throw Error(a(161))}}catch(H){Kt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ip(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ip(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ji(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jg(t,n.alternate,n),n=n.sibling}function aa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$i(4,n,n.return),aa(n);break;case 1:$n(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Fg(n,n.return,r),aa(n);break;case 27:Cl(n.stateNode);case 26:case 5:$n(n,n.return),aa(n);break;case 22:n.memoizedState===null&&aa(n);break;case 30:aa(n);break;default:aa(n)}t=t.sibling}}function Wi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(c,f,r),_l(4,f);break;case 1:if(Wi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Om(b[c],E)}catch(P){Kt(l,l.return,P)}}r&&y&64&&Yg(f),vl(f,f.return);break;case 27:Zg(f);case 26:case 5:Wi(c,f,r),r&&l===null&&y&4&&Xg(f),vl(f,f.return);break;case 12:Wi(c,f,r);break;case 13:Wi(c,f,r),r&&y&4&&ep(c,f);break;case 22:f.memoizedState===null&&Wi(c,f,r),vl(f,f.return);break;case 30:break;default:Wi(c,f,r)}n=n.sibling}}function Hh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&rl(r))}function Gh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t))}function Jn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rp(t,n,r,l),n=n.sibling}function rp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,r,l),c&2048&&_l(9,n);break;case 1:Jn(t,n,r,l);break;case 3:Jn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&rl(t)));break;case 12:if(c&2048){Jn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else Jn(t,n,r,l);break;case 13:Jn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,r,l):El(t,n):f._visibility&2?Jn(t,n,r,l):(f._visibility|=2,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Hh(y,n);break;case 24:Jn(t,n,r,l),c&2048&&Gh(n.alternate,n);break;default:Jn(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,E,b,c),_l(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Za(f,y,E,b,c):El(f,y):(H._visibility|=2,Za(f,y,E,b,c)),c&&P&2048&&Hh(y.alternate,y);break;case 24:Za(f,y,E,b,c),c&&P&2048&&Gh(y.alternate,y);break;default:Za(f,y,E,b,c)}n=n.sibling}}function El(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:El(r,l),c&2048&&Hh(l.alternate,l);break;case 24:El(r,l),c&2048&&Gh(l.alternate,l);break;default:El(r,l)}n=n.sibling}}var Tl=8192;function $a(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)ap(t),t=t.sibling}function ap(t){switch(t.tag){case 26:$a(t),t.flags&Tl&&t.memoizedState!==null&&C0(Mn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var n=Mn;Mn=So(t.stateNode.containerInfo),$a(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Tl,Tl=16777216,$a(t),Tl=n):$a(t));break;default:$a(t)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,up(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lp(t),t=t.sibling}function lp(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&$i(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,co(t)):Al(t);break;default:Al(t)}}function co(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,up(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$i(8,n,n.return),co(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,co(n));break;default:co(n)}t=t.sibling}}function up(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:$i(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(Wg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var GE={getCacheForType:function(t){var n=He(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},QE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,Ot=0,Gt=0,hn=null,tr=!1,Ja=!1,Qh=!1,Ii=0,le=0,er=0,sa=0,Yh=0,wn=0,Wa=0,Sl=null,en=null,Fh=!1,Xh=0,ho=1/0,fo=null,nr=null,ze=0,ir=null,ts=null,es=0,Kh=0,Zh=null,op=null,bl=0,$h=null;function fn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(j.T!==null){var t=ja;return t!==0?t:af()}return Pi()}function cp(){wn===0&&(wn=(Ot&536870912)===0||zt?Ms():536870912);var t=Rn.current;return t!==null&&(t.flags|=32),wn}function dn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ns(t,0),rr(t,Ot,wn,!1)),ui(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(sa|=r),le===4&&rr(t,Ot,wn,!1)),Wn(t))}function hp(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Or(t,n),c=l?XE(t,n):tf(t,n,!0),f=l;do{if(c===0){Ja&&!l&&rr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!YE(r)){c=tf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=Sl;var b=E.current.memoizedState.isDehydrated;if(b&&(ns(E,y).flags|=256),y=tf(E,y,!1),y!==2){if(Qh&&!b){E.errorRecoveryDisabledLanes|=f,sa|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){ns(t,0),rr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:rr(l,n,wn,!tr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Xh+300-gn(),10<c)){if(rr(l,n,wn,!tr),va(l,0,!0)!==0)break t;l.timeoutHandle=qp(fp.bind(null,l,r,en,fo,Fh,n,wn,sa,Wa,tr,f,2,-0,0),c);break t}fp(l,r,en,fo,Fh,n,wn,sa,Wa,tr,f,0,-0,0)}}break}while(!0);Wn(t)}function fp(t,n,r,l,c,f,y,E,b,P,H,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:D0},ap(n),F=V0(),F!==null)){t.cancelPendingCommit=F(vp.bind(null,t,n,f,r,l,c,y,E,b,H,1,B,q)),rr(t,f,y,!P);return}vp(t,n,f,r,l,c,y,E,b)}function YE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rr(t,n,r,l){n&=~Yh,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-je(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Pn(t,r,n)}function mo(){return(Ht&6)===0?(Rl(0),!1):!0}function Jh(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Ai=ta=null,gh(t),Xa=null,gl=0,t=wt;for(;t!==null;)Qg(t.alternate,t),t=t.return;wt=null}}function ns(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,c0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Jh(),$t=t,wt=r=vi(t.current,null),Ot=n,Gt=0,hn=null,tr=!1,Ja=Or(t,n),Qh=!1,Wa=wn=Yh=sa=er=le=0,en=Sl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-je(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Uu(),r}function dp(t,n){St=null,j.H=to,n===sl||n===Gu?(n=Im(),Gt=3):n===Dm?(n=Im(),Gt=4):Gt=n===Ng?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,wt===null&&(le=1,ao(t,Tn(n,t.current)))}function mp(){var t=j.H;return j.H=to,t===null?to:t}function gp(){var t=j.A;return j.A=GE,t}function Wh(){le=4,tr||(Ot&4194048)!==Ot&&Rn.current!==null||(Ja=!0),(er&134217727)===0&&(sa&134217727)===0||$t===null||rr($t,Ot,wn,!1)}function tf(t,n,r){var l=Ht;Ht|=2;var c=mp(),f=gp();($t!==t||Ot!==n)&&(fo=null,ns(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=hn;switch(Gt){case 8:Jh(),y=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Gt;if(Gt=0,hn=null,is(t,E,b,P),r&&Ja){y=0;break t}break;default:P=Gt,Gt=0,hn=null,is(t,E,b,P)}}FE(),y=le;break}catch(H){dp(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=ta=null,Ht=l,j.H=c,j.A=f,wt===null&&($t=null,Ot=0,Uu()),y}function FE(){for(;wt!==null;)pp(wt)}function XE(t,n){var r=Ht;Ht|=2;var l=mp(),c=gp();$t!==t||Ot!==n?(fo=null,ho=gn()+500,ns(t,n)):Ja=Or(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,is(t,n,f,1);break;case 2:case 9:if(Cm(f)){Gt=0,hn=null,yp(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Cm(f)?(Gt=0,hn=null,yp(n)):(Gt=0,hn=null,is(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Jp(y)){Gt=0,hn=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,go(P)):wt=null}break e}}Gt=0,hn=null,is(t,n,f,5);break;case 6:Gt=0,hn=null,is(t,n,f,6);break;case 8:Jh(),le=6;break t;default:throw Error(a(462))}}KE();break}catch(H){dp(t,H)}while(!0);return Ai=ta=null,j.H=l,j.A=c,Ht=r,wt!==null?0:($t=null,Ot=0,Uu(),le)}function KE(){for(;wt!==null&&!Vs();)pp(wt)}function pp(t){var n=Hg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?go(t):wt=n}function yp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=zg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=zg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:gh(n);default:Qg(r,n),n=wt=_m(n,Ii),n=Hg(r,n,Ii)}t.memoizedProps=t.pendingProps,n===null?go(t):wt=n}function is(t,n,r,l){Ai=ta=null,gh(n),Xa=null,gl=0;var c=n.return;try{if(PE(t,c,n,r,Ot)){le=1,ao(t,Tn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,ao(t,Tn(r,t.current)),wt=null;return}n.flags&32768?(zt||l===1?t=!0:Ja||(Ot&536870912)!==0?t=!1:(tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_p(n,t)):go(n)}function go(t){var n=t;do{if((n.flags&32768)!==0){_p(n,tr);return}t=n.return;var r=qE(n.alternate,n,Ii);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function _p(t,n){do{var r=kE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function vp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do po();while(ze!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gc,Us(t,r,f,y,E,b),t===$t&&(wt=$t=null,Ot=0),ts=n,ir=t,es=r,Kh=f,Zh=c,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WE(Cr,function(){return bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{jE(t,n,r)}finally{Ht=y,tt.p=c,j.T=l}}ze=1,Ep(),Tp(),Ap()}}function Ep(){if(ze===1){ze=0;var t=ir,n=ts,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{np(n,t);var f=df,y=um(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&lm(E.ownerDocument.documentElement,E)){if(b!==null&&Bc(E)){var P=b.start,H=b.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),gt=E.textContent.length,ft=Math.min(b.start,gt),Xt=b.end===void 0?ft:Math.min(b.end,gt);!q.extend&&ft>Xt&&(y=Xt,Xt=ft,ft=y);var x=sm(E,ft),V=sm(E,Xt);if(x&&V&&(q.rangeCount!==1||q.anchorNode!==x.node||q.anchorOffset!==x.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var z=F.createRange();z.setStart(x.node,x.offset),q.removeAllRanges(),ft>Xt?(q.addRange(z),q.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),q.addRange(z))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Co=!!ff,df=ff=null}finally{Ht=c,tt.p=l,j.T=r}}t.current=n,ze=2}}function Tp(){if(ze===2){ze=0;var t=ir,n=ts,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Jg(t,n.alternate,n)}finally{Ht=c,tt.p=l,j.T=r}}ze=3}}function Ap(){if(ze===4||ze===3){ze=0,cu();var t=ir,n=ts,r=es,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,ts=ir=null,Sp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(nr=null),Ea(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(es&3)!==0&&po(),Wn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===$h?bl++:(bl=0,$h=t):bl=0,Rl(0)}}function Sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,rl(n)))}function po(t){return Ep(),Tp(),Ap(),bp()}function bp(){if(ze!==5)return!1;var t=ir,n=Kh;Kh=0;var r=Ea(es),l=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=Zh,Zh=null;var f=ir,y=es;if(ze=0,ts=ir=null,es=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,lp(f.current),rp(f,f.current,y,r),Ht=E,Rl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,j.T=l,Sp(t,n)}}function Rp(t,n,r){n=Tn(r,n),n=Vh(t.stateNode,n,2),t=Fi(t,n,2),t!==null&&(ui(t,2),Wn(t))}function Kt(t,n,r){if(t.tag===3)Rp(t,t,r);else for(;n!==null;){if(n.tag===3){Rp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(nr===null||!nr.has(l))){t=Tn(r,t),r=Vg(2),l=Fi(n,r,2),l!==null&&(Ig(r,l,n,t),ui(l,2),Wn(l));break}}n=n.return}}function ef(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Qh=!0,c.add(r),t=ZE.bind(null,t,n,r),n.then(t,t))}function ZE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ot&r)===r&&(le===4||le===3&&(Ot&62914560)===Ot&&300>gn()-Xh?(Ht&2)===0&&ns(t,0):Yh|=r,Wa===Ot&&(Wa=0)),Wn(t)}function wp(t,n){n===0&&(n=xs()),t=Pa(t,n),t!==null&&(ui(t,n),Wn(t))}function $E(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),wp(t,r)}function JE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),wp(t,r)}function WE(t,n){return wr(t,n)}var yo=null,rs=null,nf=!1,_o=!1,rf=!1,la=0;function Wn(t){t!==rs&&t.next===null&&(rs===null?yo=rs=t:rs=rs.next=t),_o=!0,nf||(nf=!0,e0())}function Rl(t,n){if(!rf&&_o){rf=!0;do for(var r=!1,l=yo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-je(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Ip(l,f))}else f=Ot,f=va(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Or(l,f)||(r=!0,Ip(l,f));l=l.next}while(r);rf=!1}}function t0(){Dp()}function Dp(){_o=nf=!1;var t=0;la!==0&&(o0()&&(t=la),la=0);for(var n=gn(),r=null,l=yo;l!==null;){var c=l.next,f=Cp(l,n);f===0?(l.next=null,r===null?yo=c:r.next=c,c===null&&(rs=r)):(r=l,(t!==0||(f&3)!==0)&&(_o=!0)),l=c}Rl(t)}function Cp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-je(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Os(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ot,r=va(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Or(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Dr(l),Ea(r)){case 2:case 8:r=ya;break;case 32:r=Cr;break;case 268435456:r=_a;break;default:r=Cr}return l=Vp.bind(null,t),r=wr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(po()&&t.callbackNode!==r)return null;var l=Ot;return l=va(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hp(t,l,n),Cp(t,gn()),t.callbackNode!=null&&t.callbackNode===r?Vp.bind(null,t):null)}function Ip(t,n){if(po())return null;hp(t,n,!0)}function e0(){h0(function(){(Ht&6)!==0?wr(Is,t0):Dp()})}function af(){return la===0&&(la=Ms()),la}function Np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function Op(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function n0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Np((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Np(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var b=y?Op(c,y):new FormData(c);bh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Op(c,y):new FormData(c),bh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var sf=0;sf<Hc.length;sf++){var lf=Hc[sf],i0=lf.toLowerCase(),r0=lf[0].toUpperCase()+lf.slice(1);On(i0,"on"+r0)}On(hm,"onAnimationEnd"),On(fm,"onAnimationIteration"),On(dm,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(TE,"onTransitionRun"),On(AE,"onTransitionStart"),On(SE,"onTransitionCancel"),On(mm,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function Mp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){ro(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){ro(H)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[zs];r===void 0&&(r=n[zs]=new Set);var l=t+"__bubble";r.has(l)||(xp(n,t,2,!1),r.add(l))}function uf(t,n,r){var l=0;n&&(l|=4),xp(r,t,l,n)}var vo="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[vo]){t[vo]=!0,Ps.forEach(function(r){r!=="selectionchange"&&(a0.has(r)||uf(r,!1,t),uf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vo]||(n[vo]=!0,uf("selectionchange",!1,n))}}function xp(t,n,r,l){switch(ry(n)){case 2:var c=O0;break;case 8:c=M0;break;default:c=Sf}r=c.bind(null,n,r,t),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function cf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=oi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Eu(function(){var P=f,H=_n(r),F=[];t:{var B=gm.get(t);if(B!==void 0){var q=Da,gt=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":q=Ma;break;case"focusin":gt="focus",q=Ia;break;case"focusout":gt="blur",q=Ia;break;case"beforeblur":case"afterblur":q=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Cu;break;case hm:case fm:case dm:q=Na;break;case mm:q=Iu;break;case"scroll":case"scrollend":q=Tu;break;case"wheel":q=xa;break;case"copy":case"cut":case"paste":q=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zs;break;case"toggle":case"beforetoggle":q=Ou}var ft=(n&4)!==0,Xt=!ft&&(t==="scroll"||t==="scrollend"),x=ft?B!==null?B+"Capture":null:B;ft=[];for(var V=P,z;V!==null;){var G=V;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||x===null||(G=qr(V,x),G!=null&&ft.push(Dl(V,G,z))),Xt)break;V=V.return}0<ft.length&&(B=new q(B,gt,null,r,H),F.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==di&&(gt=r.relatedTarget||r.fromElement)&&(oi(gt)||gt[pn]))break t;if((q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,q?(gt=r.relatedTarget||r.toElement,q=P,gt=gt?oi(gt):null,gt!==null&&(Xt=h(gt),ft=gt.tag,gt!==Xt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(q=null,gt=P),q!==gt)){if(ft=En,G="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Zs,G="onPointerLeave",x="onPointerEnter",V="pointer"),Xt=q==null?B:qn(q),z=gt==null?B:qn(gt),B=new ft(G,V+"leave",q,r,H),B.target=Xt,B.relatedTarget=z,G=null,oi(H)===P&&(ft=new ft(x,V+"enter",gt,r,H),ft.target=z,ft.relatedTarget=Xt,G=ft),Xt=G,q&&gt)e:{for(ft=q,x=gt,V=0,z=ft;z;z=as(z))V++;for(z=0,G=x;G;G=as(G))z++;for(;0<V-z;)ft=as(ft),V--;for(;0<z-V;)x=as(x),z--;for(;V--;){if(ft===x||x!==null&&ft===x.alternate)break e;ft=as(ft),x=as(x)}ft=null}else ft=null;q!==null&&Up(F,B,q,ft,!1),gt!==null&&Xt!==null&&Up(F,Xt,gt,ft,!0)}}t:{if(B=P?qn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var st=tm;else if(Te(B))if(em)st=_E;else{st=pE;var Rt=gE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Hs(P.elementType)&&(st=tm):st=yE;if(st&&(st=st(t,P))){_i(F,st,r,H);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&ji(B,"number",B.value)}switch(Rt=P?qn(P):window,t){case"focusin":(Te(Rt)||Rt.contentEditable==="true")&&(Ua=Rt,qc=P,Ws=null);break;case"focusout":Ws=qc=Ua=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,om(F,r,H);break;case"selectionchange":if(EE)break;case"keydown":case"keyup":om(F,r,H)}var lt;if(Fn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else It?k(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(It||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&It&&(lt=Qs()):(Hn=H,Hi="value"in Hn?Hn.value:Hn.textContent,It=!0)),Rt=Eo(P,dt),0<Rt.length&&(dt=new Xs(dt,t,null,r,H),F.push({event:dt,listeners:Rt}),lt?dt.data=lt:(lt=W(r),lt!==null&&(dt.data=lt)))),(lt=m?Ee(t,r):Nt(t,r))&&(dt=Eo(P,"onBeforeInput"),0<dt.length&&(Rt=new Xs("onBeforeInput","beforeinput",null,r,H),F.push({event:Rt,listeners:dt}),Rt.data=lt)),n0(F,t,P,r,H)}Mp(F,n)})}function Dl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Eo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(Dl(t,c,f)),c=qr(t,n),c!=null&&l.push(Dl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Up(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=qr(r,f),P!=null&&y.unshift(Dl(r,P,b))):c||(P=qr(r,f),P!=null&&y.push(Dl(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var s0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function Lp(t){return(typeof t=="string"?t:""+t).replace(s0,`
`).replace(l0,"")}function zp(t,n){return n=Lp(n),Lp(t)===n}function To(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,r,l);break;case"style":js(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=wa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=To);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),ki(t,"popover",l);break;case"xlinkActuate":xe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Mc.get(r)||r,ki(t,r,l))}}function hf(t,n,r,l,c,f){switch(r){case"style":js(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=To);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ki(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}zr(t,f,E,b,P,y,c,!1),Ra(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?fi(t,!!l,n,!1):r!=null&&fi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Pr(t,l,c,f),Ra(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<wl.length;l++)Dt(wl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,P,l,r,null)}return;default:if(Hs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&hf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function u0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Ft(t,n,B,q,l,F)}}sn(t,y,E,b,P,H,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?fi(t,!!r,B,!1):!!l!=!!r&&(n!=null?fi(t,!!r,n,!0):fi(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}Qt(t,B,q);return;case"option":for(var gt in r)if(B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":t.selected=!1;break;default:Ft(t,n,gt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Ft(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Ft(t,n,ft,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Ft(t,n,P,B,l,q)}return;default:if(Hs(n)){for(var Xt in r)B=r[Xt],r.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&hf(t,n,Xt,void 0,l,B);for(H in l)B=l[H],q=r[H],!l.hasOwnProperty(H)||B===q||B===void 0&&q===void 0||hf(t,n,H,B,l,q);return}}for(var x in r)B=r[x],r.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Ft(t,n,F,B,l,q)}var ff=null,df=null;function Ao(t){return t.nodeType===9?t:t.ownerDocument}function Pp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function o0(){var t=window.event;return t&&t.type==="popstate"?t===gf?!1:(gf=t,!0):(gf=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,c0=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(t){return kp.resolve(null).then(t).catch(f0)}:qp;function f0(t){setTimeout(function(){throw t})}function ar(t){return t==="head"}function jp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Cl(y.documentElement),r&2&&Cl(y.body),r&4)for(r=y.head,Cl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Mr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Ll(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Ll(n)}function pf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pf(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function d0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Mr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function m0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function g0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var _f=null;function Hp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Gp(t,n,r){switch(n=Ao(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Cl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var Dn=new Map,Qp=new Set;function So(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ni=tt.d;tt.d={f:p0,r:y0,D:_0,C:v0,L:E0,m:T0,X:S0,S:A0,M:b0};function p0(){var t=Ni.f(),n=mo();return t||n}function y0(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?hg(n):Ni.r(t)}var ss=typeof document>"u"?null:document;function Yp(t,n,r){var l=ss;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Qp.has(c)||(Qp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function _0(t){Ni.D(t),Yp("dns-prefetch",t,null)}function v0(t,n){Ni.C(t,n),Yp("preconnect",t,n)}function E0(t,n,r){Ni.L(t,n,r);var l=ss;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ls(t);break;case"script":f=us(t)}Dn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Vl(f))||n==="script"&&l.querySelector(Il(f))||(n=l.createElement("link"),Pe(n,"link",t),ue(n),l.head.appendChild(n)))}}function T0(t,n){Ni.m(t,n);var r=ss;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=us(t)}if(!Dn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Dn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Il(f)))return}l=r.createElement("link"),Pe(l,"link",t),ue(l),r.head.appendChild(l)}}}function A0(t,n,r){Ni.S(t,n,r);var l=ss;if(l&&t){var c=Xe(l).hoistableStyles,f=ls(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Vl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(f))&&vf(t,r);var b=y=l.createElement("link");ue(b),Pe(b,"link",t),b._p=new Promise(function(P,H){b.onload=P,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function S0(t,n){Ni.X(t,n);var r=ss;if(r&&t){var l=Xe(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(Il(c)),f||(t=A({src:t,async:!0},n),(n=Dn.get(c))&&Ef(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function b0(t,n){Ni.M(t,n);var r=ss;if(r&&t){var l=Xe(r).hoistableScripts,c=us(t),f=l.get(c);f||(f=r.querySelector(Il(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&Ef(t,n),f=r.createElement("script"),ue(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Fp(t,n,r,l){var c=(c=pt.current)?So(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ls(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ls(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),f||R0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=us(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ls(t){return'href="'+de(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Xp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function R0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),ue(n),t.head.appendChild(n))}function us(t){return'[src="'+de(t)+'"]'}function Il(t){return"script[async]"+t}function Kp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,ue(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),Pe(l,"style",c),bo(l,r.precedence,t),n.instance=l;case"stylesheet":c=ls(r.href);var f=t.querySelector(Vl(c));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;l=Xp(r),(c=Dn.get(c))&&vf(l,c),f=(t.ownerDocument||t).createElement("link"),ue(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",l),n.state.loading|=4,bo(f,r.precedence,t),n.instance=f;case"script":return f=us(r.src),(c=t.querySelector(Il(f)))?(n.instance=c,ue(c),c):(l=r,(c=Dn.get(f))&&(l=A({},r),Ef(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ue(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bo(l,r.precedence,t));return n.instance}function bo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ef(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ro=null;function Zp(t,n,r){if(Ro===null){var l=new Map,c=Ro=new Map;c.set(r,l)}else c=Ro,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Mr]||f[ve]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function $p(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function w0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Nl=null;function D0(){}function C0(t,n,r){if(Nl===null)throw Error(a(475));var l=Nl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ls(r.href),f=t.querySelector(Vl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ue(f);return}f=t.ownerDocument||t,r=Xp(r),(c=Dn.get(c))&&vf(r,c),f=f.createElement("link"),ue(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function V0(){if(Nl===null)throw Error(a(475));var t=Nl;return t.stylesheets&&t.count===0&&Tf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Tf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function wo(){if(this.count--,this.count===0){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Do=null;function Tf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Do=new Map,n.forEach(I0,t),Do=null,wo.call(t))}function I0(t,n){if(!(n.state.loading&4)){var r=Do.get(t);if(r)var l=r.get(null);else{r=new Map,Do.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=wo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ol={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function N0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Wp(t,n,r,l,c,f,y,E,b,P,H,F){return t=new N0(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=eh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ah(f),t}function ty(t){return t?(t=Ba,t):Ba}function ey(t,n,r,l,c,f){c=ty(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Fi(t,l,n),r!==null&&(dn(r,t,n),ul(r,t,n))}function ny(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Af(t,n){ny(t,n),(t=t.alternate)&&ny(t,n)}function iy(t){if(t.tag===13){var n=Pa(t,67108864);n!==null&&dn(n,t,67108864),Af(t,67108864)}}var Co=!0;function O0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,Sf(t,n,r,l)}finally{tt.p=f,j.T=c}}function M0(t,n,r,l){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,Sf(t,n,r,l)}finally{tt.p=f,j.T=c}}function Sf(t,n,r,l){if(Co){var c=bf(l);if(c===null)cf(t,n,l,Vo,r),ay(t,l);else if(U0(c,t,n,r,l))l.stopPropagation();else if(ay(t,l),n&4&&-1<x0.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Vn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-je(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Ht&6)===0&&(ho=gn()+500,Rl(0))}}break;case 13:E=Pa(f,2),E!==null&&dn(E,f,2),mo(),Af(f,2)}if(f=bf(l),f===null&&cf(t,n,l,Vo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else cf(t,n,l,null,r)}}function bf(t){return t=_n(t),Rf(t)}var Vo=null;function Rf(t){if(Vo=null,t=oi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vo=t,null}function ry(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dc()){case Is:return 2;case ya:return 8;case Cr:case Cc:return 32;case _a:return 268435456;default:return 32}default:return 32}}var wf=!1,sr=null,lr=null,ur=null,Ml=new Map,xl=new Map,or=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ay(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(n.pointerId)}}function Ul(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&iy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function U0(t,n,r,l,c){switch(n){case"focusin":return sr=Ul(sr,t,n,r,l,c),!0;case"dragenter":return lr=Ul(lr,t,n,r,l,c),!0;case"mouseover":return ur=Ul(ur,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ml.set(f,Ul(Ml.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,xl.set(f,Ul(xl.get(f)||null,t,n,r,l,c)),!0}return!1}function sy(t){var n=oi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,du(t.priority,function(){if(r.tag===13){var l=fn();l=zi(l);var c=Pa(r,l);c!==null&&dn(c,r,l),Af(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Io(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=bf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);di=l,r.target.dispatchEvent(l),di=null}else return n=Bn(r),n!==null&&iy(n),t.blockedOn=r,!1;n.shift()}return!0}function ly(t,n,r){Io(t)&&r.delete(n)}function L0(){wf=!1,sr!==null&&Io(sr)&&(sr=null),lr!==null&&Io(lr)&&(lr=null),ur!==null&&Io(ur)&&(ur=null),Ml.forEach(ly),xl.forEach(ly)}function No(t,n){t.blockedOn===n&&(t.blockedOn=null,wf||(wf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,L0)))}var Oo=null;function uy(t){Oo!==t&&(Oo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Oo===t&&(Oo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Rf(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ll(t){function n(b){return No(b,t)}sr!==null&&No(sr,t),lr!==null&&No(lr,t),ur!==null&&No(ur,t),Ml.forEach(n),xl.forEach(n);for(var r=0;r<or.length;r++){var l=or[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)sy(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||uy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(Rf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),uy(r)}}}function Df(t){this._internalRoot=t}Mo.prototype.render=Df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=fn();ey(r,l,t,n,null,null)},Mo.prototype.unmount=Df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ey(t.current,2,null,t,null,null),mo(),n[pn]=null}};function Mo(t){this._internalRoot=t}Mo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Pi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&sy(t)}};var oy=e.version;if(oy!=="19.1.1")throw Error(a(527,oy,"19.1.1"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var z0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{ae=xo.inject(z0),jt=xo}catch{}}return Pl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Rg,f=wg,y=Dg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Wp(t,1,!1,null,null,r,l,c,f,y,E,null),t[pn]=n.current,of(t),new Df(n)},Pl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Rg,y=wg,E=Dg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Wp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=ty(null),r=n.current,l=fn(),l=zi(l),c=Yi(l),c.callback=null,Fi(r,c,l),r=l,n.current.lanes=r,ui(n,r),Wn(n),t[pn]=n.current,of(t),new Mo(n)},Pl.version="19.1.1",Pl}var vy;function F0(){if(vy)return If.exports;vy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),If.exports=Y0(),If.exports}var X0=F0();const K0=()=>{};var Ey={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},Z0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let I=(g&15)<<2|v>>6,Y=v&63;_||(Y=64,d||(I=64)),a.push(i[A],i[D],i[I],i[Y])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(I_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Z0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const D=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||D==null)throw new $0;const I=h<<2|g>>4;if(a.push(I),v!==64){const Y=g<<4&240|v>>2;if(a.push(Y),D!==64){const $=v<<6&192|D;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J0=function(s){const e=I_(s);return N_.encodeByteArray(e,!0)},Fo=function(s){return J0(s).replace(/\./g,"")},W0=function(s){try{return N_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=()=>tT().__FIREBASE_DEFAULTS__,nT=()=>{if(typeof process>"u"||typeof Ey>"u")return;const s=Ey.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&W0(s[1]);return e&&JSON.parse(e)},dd=()=>{try{return K0()||eT()||nT()||iT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rT=s=>dd()?.emulatorHosts?.[s],aT=s=>{const e=rT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},O_=()=>dd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fo(JSON.stringify(i)),Fo(JSON.stringify(d)),""].join(".")}const jl={};function oT(){const s={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?s.emulator.push(e):s.prod.push(e);return s}function cT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Ty=!1;function hT(s,e){if(typeof window>"u"||typeof document>"u"||!md(window.location.host)||jl[s]===e||jl[s]||Ty)return;jl[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",h=oT().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,Y){I.setAttribute("width","24"),I.setAttribute("id",Y),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Ty=!0,d()},I}function A(I,Y){I.setAttribute("id",Y),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function D(){const I=cT(a),Y=i("text"),$=document.getElementById(Y)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),At=i("preprendIcon"),yt=document.getElementById(At)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ht=I.element;g(ht),A(Z,nt);const kt=v();_(yt,At),ht.append(yt,$,Z,kt),document.body.appendChild(ht)}h?($.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dT(){const s=dd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mT(){return!dT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="FirebaseError";class Ss extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=yT,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M_.prototype.create)}}class M_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?_T(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ss(u,g,a)}}function _T(s,e){return s.replace(vT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const vT=/\{\$([^}]+)}/g;function Xo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Ay(h)&&Ay(d)){if(!Xo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Ay(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(s){return s&&s._delegate?s._delegate:s}class Fl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new sT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AT(e))try{this.getOrInitializeService({instanceIdentifier:ua})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ua){return this.instances.has(e)}getOptions(e=ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(a)??new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ua){return this.component?this.component.multipleInstances?e:ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TT(s){return s===ua?void 0:s}function AT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ET(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const bT={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},RT=xt.INFO,wT={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},DT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=wT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=RT,this._logHandler=DT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const CT=(s,e)=>e.some(i=>s instanceof i);let Sy,by;function VT(){return Sy||(Sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return by||(by=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,Hf=new WeakMap,L_=new WeakMap,xf=new WeakMap,gd=new WeakMap;function NT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(fr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&U_.set(i,s)}).catch(()=>{}),gd.set(e,s),e}function OT(s){if(Hf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Hf.set(s,e)}let Gf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Hf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||L_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function MT(s){Gf=s(Gf)}function xT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Uf(this),e,...i);return L_.set(a,e.sort?e.sort():[e]),fr(a)}:IT().includes(s)?function(...e){return s.apply(Uf(this),e),fr(U_.get(this))}:function(...e){return fr(s.apply(Uf(this),e))}}function UT(s){return typeof s=="function"?xT(s):(s instanceof IDBTransaction&&OT(s),CT(s,VT())?new Proxy(s,Gf):s)}function fr(s){if(s instanceof IDBRequest)return NT(s);if(xf.has(s))return xf.get(s);const e=UT(s);return e!==s&&(xf.set(s,e),gd.set(e,s)),e}const Uf=s=>gd.get(s);function LT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=fr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(fr(d.result),_.oldVersion,_.newVersion,fr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const zT=["get","getKey","getAll","getAllKeys","count"],PT=["put","add","delete","clear"],Lf=new Map;function Ry(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=PT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||zT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Lf.set(e,h),h}MT(s=>({...s,get:(e,i,a)=>Ry(e,i)||s.get(e,i,a),has:(e,i)=>!!Ry(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qT(s){return s.getComponent()?.type==="VERSION"}const Qf="@firebase/app",wy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new x_("@firebase/app"),kT="@firebase/app-compat",jT="@firebase/analytics-compat",HT="@firebase/analytics",GT="@firebase/app-check-compat",QT="@firebase/app-check",YT="@firebase/auth",FT="@firebase/auth-compat",XT="@firebase/database",KT="@firebase/data-connect",ZT="@firebase/database-compat",$T="@firebase/functions",JT="@firebase/functions-compat",WT="@firebase/installations",t1="@firebase/installations-compat",e1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",r1="@firebase/performance-compat",a1="@firebase/remote-config",s1="@firebase/remote-config-compat",l1="@firebase/storage",u1="@firebase/storage-compat",o1="@firebase/firestore",c1="@firebase/ai",h1="@firebase/firestore-compat",f1="firebase",d1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",m1={[Qf]:"fire-core",[kT]:"fire-core-compat",[HT]:"fire-analytics",[jT]:"fire-analytics-compat",[QT]:"fire-app-check",[GT]:"fire-app-check-compat",[YT]:"fire-auth",[FT]:"fire-auth-compat",[XT]:"fire-rtdb",[KT]:"fire-data-connect",[ZT]:"fire-rtdb-compat",[$T]:"fire-fn",[JT]:"fire-fn-compat",[WT]:"fire-iid",[t1]:"fire-iid-compat",[e1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[r1]:"fire-perf-compat",[a1]:"fire-rc",[s1]:"fire-rc-compat",[l1]:"fire-gcs",[u1]:"fire-gcs-compat",[o1]:"fire-fst",[h1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,g1=new Map,Ff=new Map;function Dy(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Zo(s){const e=s.name;if(Ff.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,s);for(const i of Ko.values())Dy(i,s);for(const i of g1.values())Dy(i,s);return!0}function p1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function y1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new M_("app","Firebase",_1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=d1;function z_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Yf,automaticDataCollectionEnabled:!0,...e},u=a.name;if(typeof u!="string"||!u)throw dr.create("bad-app-name",{appName:String(u)});if(i||(i=O_()),!i)throw dr.create("no-options");const h=Ko.get(u);if(h){if(Xo(i,h.options)&&Xo(a,h.config))return h;throw dr.create("duplicate-app",{appName:u})}const d=new ST(u);for(const _ of Ff.values())d.addComponent(_);const g=new v1(i,a,d);return Ko.set(u,g),g}function T1(s=Yf){const e=Ko.get(s);if(!e&&s===Yf&&O_())return z_();if(!e)throw dr.create("no-app",{appName:s});return e}function ds(s,e,i){let a=m1[s]??s;i&&(a+=`-${i}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${a}" with version "${e}":`];u&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}Zo(new Fl(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebase-heartbeat-database",S1=1,Xl="firebase-heartbeat-store";let zf=null;function P_(){return zf||(zf=LT(A1,S1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw dr.create("idb-open",{originalErrorMessage:s.message})})),zf}async function b1(s){try{const i=(await P_()).transaction(Xl),a=await i.objectStore(Xl).get(B_(s));return await i.done,a}catch(e){if(e instanceof Ss)Mi.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(i.message)}}}async function Cy(s,e){try{const a=(await P_()).transaction(Xl,"readwrite");await a.objectStore(Xl).put(e,B_(s)),await a.done}catch(i){if(i instanceof Ss)Mi.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Mi.warn(a.message)}}}function B_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1024,w1=30;class D1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new V1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>w1){const u=I1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Vy(),{heartbeatsToSend:i,unsentEntries:a}=C1(this._heartbeatsCache.heartbeats),u=Fo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return Mi.warn(e),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function C1(s,e=R1){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Iy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Iy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class V1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await b1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Cy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Cy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Iy(s){return Fo(JSON.stringify({version:2,heartbeats:s})).length}function I1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(s){Zo(new Fl("platform-logger",e=>new BT(e),"PRIVATE")),Zo(new Fl("heartbeat",e=>new D1(e),"PRIVATE")),ds(Qf,wy,s),ds(Qf,wy,"esm2020"),ds("fire-js","")}N1("");var O1="firebase",M1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(O1,M1,"app");var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,q_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,S){function w(){}w.prototype=S.prototype,M.D=S.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(N,O,U){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[O].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,S,w){w||(w=0);var N=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)N[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)N[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=M.g[0],w=M.g[1],O=M.g[2];var U=M.g[3],R=S+(U^w&(O^U))+N[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+N[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+N[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+N[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+N[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+N[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+N[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+N[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+N[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(U^w&(O^U))+N[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=U+(O^S&(w^O))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(w^U&(S^w))+N[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=w+(S^O&(U^S))+N[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^U&(w^O))+N[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+N[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+N[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+N[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+N[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+N[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+N[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+N[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+N[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(w^O))+N[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=U+(w^O&(S^w))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(U^S))+N[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=w+(U^S&(O^U))+N[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^U)+N[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+N[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+N[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+N[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+N[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+N[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+N[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+N[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+N[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^U)+N[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=U+(S^w^O)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^w)+N[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=w+(O^U^S)+N[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~U))+N[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+N[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+N[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+N[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+N[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+N[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+N[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+N[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+N[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~U))+N[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=U+(w^(S|~O))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~w))+N[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=w+(U^(O|~S))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+U&4294967295}a.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var w=S-this.blockSize,N=this.B,O=this.h,U=0;U<S;){if(O==0)for(;U<=w;)u(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<S;)if(N[O++]=M.charCodeAt(U++),O==this.blockSize){u(this,N),O=0;break}}else for(;U<S;)if(N[O++]=M[U++],O==this.blockSize){u(this,N),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var w=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=w&255,w/=256;for(this.u(M),M=Array(16),S=w=0;4>S;++S)for(var N=0;32>N;N+=8)M[w++]=this.g[S]>>>N&255;return M};function h(M,S){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=S(M)}function d(M,S){this.h=S;for(var w=[],N=!0,O=M.length-1;0<=O;O--){var U=M[O]|0;N&&U==S||(w[O]=U,N=!1)}this.g=w}var g={};function _(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return D;if(0>M)return Z(v(-M));for(var S=[],w=1,N=0;M>=w;N++)S[N]=M/w|0,w*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=v(Math.pow(S,8)),N=D,O=0;O<M.length;O+=8){var U=Math.min(8,M.length-O),R=parseInt(M.substring(O,O+U),S);8>U?(U=v(Math.pow(S,U)),N=N.j(U).add(v(R))):(N=N.j(w),N=N.add(v(R)))}return N}var D=_(0),I=_(1),Y=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();for(var M=0,S=1,w=0;w<this.g.length;w++){var N=this.i(w);M+=(0<=N?N:4294967296+N)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(M);for(var S=v(Math.pow(M,6)),w=this,N="";;){var O=kt(w,S).g;w=At(w,O.j(S));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=O,$(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function nt(M){return M.h==-1}s.l=function(M){return M=At(this,M),nt(M)?-1:$(M)?0:1};function Z(M){for(var S=M.g.length,w=[],N=0;N<S;N++)w[N]=~M.g[N];return new d(w,~M.h).add(I)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0,O=0;O<=S;O++){var U=N+(this.i(O)&65535)+(M.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);N=R>>>16,U&=65535,R&=65535,w[O]=R<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function At(M,S){return M.add(Z(S))}s.j=function(M){if($(this)||$(M))return D;if(nt(this))return nt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(nt(M))return Z(this.j(Z(M)));if(0>this.l(Y)&&0>M.l(Y))return v(this.m()*M.m());for(var S=this.g.length+M.g.length,w=[],N=0;N<2*S;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<M.g.length;O++){var U=this.i(N)>>>16,R=this.i(N)&65535,Me=M.i(O)>>>16,re=M.i(O)&65535;w[2*N+2*O]+=R*re,yt(w,2*N+2*O),w[2*N+2*O+1]+=U*re,yt(w,2*N+2*O+1),w[2*N+2*O+1]+=R*Me,yt(w,2*N+2*O+1),w[2*N+2*O+2]+=U*Me,yt(w,2*N+2*O+2)}for(N=0;N<S;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=S;N<2*S;N++)w[N]=0;return new d(w,0)};function yt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ht(M,S){this.g=M,this.h=S}function kt(M,S){if($(S))throw Error("division by zero");if($(M))return new ht(D,D);if(nt(M))return S=kt(Z(M),S),new ht(Z(S.g),Z(S.h));if(nt(S))return S=kt(M,Z(S)),new ht(Z(S.g),S.h);if(30<M.g.length){if(nt(M)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=I,N=S;0>=N.l(M);)w=Et(w),N=Et(N);var O=Pt(w,1),U=Pt(N,1);for(N=Pt(N,2),w=Pt(w,2);!$(N);){var R=U.add(N);0>=R.l(M)&&(O=O.add(w),U=R),N=Pt(N,1),w=Pt(w,1)}return S=At(M,O.j(S)),new ht(O,S)}for(O=D;0<=M.l(S);){for(w=Math.max(1,Math.floor(M.m()/S.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=v(w),R=U.j(S);nt(R)||0<R.l(M);)w-=N,U=v(w),R=U.j(S);$(U)&&(U=I),O=O.add(U),M=At(M,R)}return new ht(O,M)}s.A=function(M){return kt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)&M.i(N);return new d(w,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)|M.i(N);return new d(w,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),w=[],N=0;N<S;N++)w[N]=this.i(N)^M.i(N);return new d(w,this.h^M.h)};function Et(M){for(var S=M.g.length+1,w=[],N=0;N<S;N++)w[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(w,M.h)}function Pt(M,S){var w=S>>5;S%=32;for(var N=M.g.length-w,O=[],U=0;U<N;U++)O[U]=0<S?M.i(U+w)>>>S|M.i(U+w+1)<<32-S:M.i(U+w);return new d(O,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,q_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,mr=d}).apply(typeof Ny<"u"?Ny:typeof self<"u"?self:typeof window<"u"?window:{});var Uo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k_,Bl,j_,ko,Xf,H_,G_,Q_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uo=="object"&&Uo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function D(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function I(o,m,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,I.apply(null,arguments)}function Y(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var W=Array(arguments.length-2),It=2;It<arguments.length;It++)W[It-2]=arguments[It];return m.prototype[L].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let W=0;W<k;W++)o[L+W]=T[W]}else o.push(T)}}class At{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function yt(o){return/^[\s\xa0]*$/.test(o)}function ht(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function kt(o){return kt[" "](o),o}kt[" "]=function(){};var Et=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function Pt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let k=0;k<w.length;k++)p=w[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function U(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Lt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new At(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ut=!1,Lt=new Me,C=()=>{const o=g.Promise.resolve(void 0);tt=()=>{o.then(K)}};var K=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){U(p)}var m=re;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o})();function bt(o,m){if(J.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Et){t:{try{kt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}$(bt,J);var pt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Li(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function si(o){this.src=o,this.g={},this.h=0}si.prototype.add=function(o,m,p,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var W=wr(o,m,T,L);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new zn(m,this.src,k,!!T,L),m.fa=p,o.push(m)),m};function Rr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Li(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function wr(o,m,p,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return L}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Vs={};function cu(o,m,p,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)cu(o,m[k],p,T,L);return null}return p=hu(p),o&&o[we]?o.K(m,p,v(T)?!!T.capture:!1,L):gn(o,m,p,!1,T,L)}function gn(o,m,p,T,L,k){if(!m)throw Error("Invalid event type");var W=v(L)?!!L.capture:!!L,It=_a(o);if(It||(o[Dr]=It=new si(o)),p=It.add(m,p,T,W,k),p.proxy)return p;if(T=Dc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ct||(L=W),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Cr(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Dc(){function o(p){return m.call(o.src,o.listener,p)}const m=Cc;return o}function Is(o,m,p,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)Is(o,m[k],p,T,L);else T=v(T)?!!T.capture:!!T,p=hu(p),o&&o[we]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=wr(k,p,T,L),-1<p&&(Li(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=_a(o))&&(m=o.g[m.toString()],o=-1,m&&(o=wr(m,p,T,L)),(p=-1<o?m[o]:null)&&ya(p))}function ya(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[we])Rr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Cr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=_a(m))?(Rr(p,o),p.h==0&&(p.src=null,m[Dr]=null)):Li(o)}}}function Cr(o){return o in Vs?Vs[o]:Vs[o]="on"+o}function Cc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ya(o),o=p.call(T,m)}return o}function _a(o){return o=o[Dr],o instanceof si?o:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(o){return typeof o=="function"?o:(o[Ns]||(o[Ns]=function(m){return o.handleEvent(m)}),o[Ns])}function ae(){et.call(this),this.i=new si(this),this.M=this,this.F=null}$(ae,et),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(o,m,p,T){Is(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new J(m,o);else if(m instanceof J)m.target=m.target||o;else{var L=m;m=new J(T,o),N(m,L)}if(L=!0,p)for(var k=p.length-1;0<=k;k--){var W=m.g=p[k];L=an(W,T,!0,m)&&L}if(W=m.g=o,L=an(W,T,!0,m)&&L,L=an(W,T,!1,m)&&L,p)for(k=0;k<p.length;k++)W=m.g=p[k],L=an(W,T,!1,m)&&L}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Li(p[T]);delete o.g[m],o.h--}}this.F=null},ae.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ae.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function an(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==p){var It=W.listener,Ee=W.ha||W.src;W.fa&&Rr(o.i,W),L=It.call(Ee,T)!==!1&&L}}return L&&!T.defaultPrevented}function je(o,m,p){if(typeof o=="function")p&&(o=I(o,p));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function fu(o){o.g=je(()=>{o.g=null,o.i&&(o.i=!1,fu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Vc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){et.call(this),this.h=o,this.g={}}$(Vr,et);var Ir=[];function Nr(o){Pt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ya(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Nr(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=g.JSON.stringify,va=g.JSON.parse,Or=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Os(){}Os.prototype.h=null;function Ms(o){return o.h||(o.h=o.i())}function xs(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){J.call(this,"d")}$(ui,J);function Us(){J.call(this,"c")}$(Us,J);var Pn={},Ls=null;function zi(){return Ls=Ls||new ae}Pn.La="serverreachability";function Ea(o){J.call(this,Pn.La,o)}$(Ea,J);function Pi(o){const m=zi();jt(m,new Ea(m))}Pn.STAT_EVENT="statevent";function du(o,m){J.call(this,Pn.STAT_EVENT,o),this.stat=m}$(du,J);function te(o){const m=zi();jt(m,new du(m,o))}Pn.Ma="timingevent";function ve(o,m){J.call(this,Pn.Ma,o),this.size=m}$(ve,J);function fe(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function zs(o,m,p,T,L,k){o.info(function(){if(o.g)if(k)for(var W="",It=k.split("&"),Ee=0;Ee<It.length;Ee++){var Nt=It[Ee].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Te=Ce.split("_");W=2<=Te.length&&Te[1]=="type"?W+(Ce+"="+Nt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function Ic(o,m,p,T,L,k,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+k+" "+W})}function Bi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mr(o,p)+(T?" "+T:"")})}function mu(o,m){o.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Mr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Vn(p)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}$(qn,Os),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Xe(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Ps={},Ta={};function In(o,m,p){o.L=1,o.v=Pr(sn(m)),o.m=p,o.P=!0,ci(o,null)}function ci(o,m){o.F=Date.now(),xr(o),o.A=sn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Gs(p.i,"t",T),o.C=0,p=o.j.J,o.h=new ue,o.g=Iu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Vc(I(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ir[0]=L.toString()),L=Ir);for(var k=0;k<L.length;k++){var W=cu(p,L[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),zs(o.i,o.u,o.A,o.l,o.R,o.m)}Xe.prototype.ca=function(o){o=o.target;const m=this.M;m&&En(o)==3?m.j():this.Y(o)},Xe.prototype.Y=function(o){try{if(o==this.g)t:{const Te=En(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Te!=4||m==7||(m==8||0>=_i?Pi(3):Pi(2)),ki(this);var p=this.g.Z();this.X=p;e:if(gu(this)){var T=Au(this.g);o="";var L=T.length,k=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xe(this),kn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Ic(this.i,this.u,this.A,this.l,this.R,Te,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,Ee=this.g;if((It=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(It)){var Nt=It;break e}}Nt=null}if(p=Nt)Bi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,p);else{this.o=!1,this.s=3,te(12),xe(this),kn(this);break t}}if(this.P){p=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=pu(this,W),Ue==Ta){Te==4&&(this.s=4,te(14),p=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ps){this.s=4,te(15),Bi(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Bi(this.i,this.l,Ue,null),Ur(this,Ue);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||W.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)Bi(this.i,this.l,W,"[Invalid Chunked Response]"),xe(this),kn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yr(Ce),Ce.M=!0,te(11))}}else Bi(this.i,this.l,W,null),Ur(this,W);Te==4&&xe(this),this.o&&!this.J&&(Te==4?Du(this.j,this):(this.o=!1,xr(this)))}else Uc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),xe(this),kn(this)}}}catch{}finally{}};function gu(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function pu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ta:(p=Number(m.substring(p,T)),isNaN(p)?Ps:(T+=1,T+p>m.length?Ta:(m=m.slice(T,T+p),o.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,xe(this)};function xr(o){o.S=Date.now()+o.I,yu(o,o.I)}function yu(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=fe(I(o.ba,o),m)}function ki(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Xe.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(mu(this.i,this.A),this.L!=2&&(Pi(),te(17)),xe(this),this.s=2,kn(this)):yu(this,this.S-o)};function kn(o){o.j.G==0||o.J||Du(o.j,o)}function xe(o){ki(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Nr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ur(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Bs(p.h,o))){if(!o.K&&Bs(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ma(p),Na(p);else break t;Ks(p),te(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(I(p.Za,p),6e3));if(1>=Sa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((o.K||p.g==o)&&Ma(p),!yt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Te=Nt[4];Te!=null&&(p.Aa=Te,p.j.info("SVER="+p.Aa));const _i=Nt[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ue=o.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var k=T.h;k.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ba(k,k.h),k.h=null))}if(T.D){const $s=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(T.ya=$s,Qt(T.I,T.D,$s))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=Vu(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var It=W,Ee=T.L;Ee&&(It.I=Ee),It.B&&(ki(It),xr(It)),T.g=W}else Ru(T);0<p.i.length&&Oa(p)}else Nt[0]!="stop"&&Nt[0]!="close"||yi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?yi(p,7):Fs(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}Pi(4)}catch{}}var _u=class{constructor(o,m){this.g=o,this.map=m}};function hi(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Sa(o){return o.h?1:o.g?o.g.size:0}function Bs(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function ba(o,m){o.g?o.g.add(m):o.h=m}function Ke(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}hi.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function qs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return nt(o.i)}function Nc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Ra(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function ks(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Ra(o),T=Nc(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],p&&p[k],o)}var Lr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var k=o[p].substring(0,T);L=o[p].substring(T+1)}else k=o[p];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof de){this.h=o.h,zr(this,o.j),this.o=o.o,this.g=o.g,ji(this,o.s),this.l=o.l;var m=o.i,p=new di;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),fi(this,p),this.m=o.m}else o&&(m=String(o).match(Lr))?(this.h=!1,zr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),ji(this,m[4]),this.l=yn(m[5]||"",!0),fi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new di(null,this.h))}de.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Br(m,js,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Br(m,js,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Br(p,p.charAt(0)=="/"?Mc:Hs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Br(p,wa)),o.join("")};function sn(o){return new de(o)}function zr(o,m,p){o.j=p?yn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function ji(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function fi(o,m,p){m instanceof di?(o.i=m,Eu(o.i,o.h)):(p||(m=Br(m,xc)),o.i=new di(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function Pr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function yn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Br(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,vu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var js=/[#\/\?@]/g,Hs=/[#\?:]/g,Mc=/[#\?]/g,xc=/[#\?@]/g,wa=/#/g;function di(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function _n(o){o.g||(o.g=new Map,o.h=0,o.i&&Oc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=di.prototype,s.add=function(o,m){_n(this),this.i=null,o=jn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function mi(o,m){_n(o),m=jn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function gi(o,m){return _n(o),m=jn(o,m),o.g.has(m)}s.forEach=function(o,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){_n(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)p.push(m[T])}return p},s.V=function(o){_n(this);let m=[];if(typeof o=="string")gi(this,o)&&(m=m.concat(this.g.get(jn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return _n(this),this.i=null,o=jn(this,o),gi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Gs(o,m,p){mi(o,m),0<p.length&&(o.i=null,o.g.set(jn(o,m),nt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var L=k;W[T]!==""&&(L+="="+encodeURIComponent(String(W[T]))),o.push(L)}}return this.i=o.join("&")};function jn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Eu(o,m){m&&!o.j&&(_n(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(mi(this,T),Gs(this,L,p))},o)),o.j=m}function qr(o,m){const p=new pn;if(g.Image){const T=new Image;T.onload=Y(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=Y(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Nn(o,m){const p=new pn,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function kr(){this.g=new Or}function Hn(o,m,p){const T=p||"";try{ks(o,function(L,k){let W=L;v(L)&&(W=Vn(L)),m.push(T+k+"="+encodeURIComponent(W))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Hi(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Hi,Os),Hi.prototype.g=function(){return new pi(this.l,this.j)},Hi.prototype.i=(function(o){return function(){return o}})({});function pi(o,m){ae.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(pi,ae),s=pi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Qn(this),this.readyState==3&&Qs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},s.Qa=function(o){this.g&&(this.response=o,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ys(o){let m="";return Pt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ys(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function Bt(o){ae.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Bt,ae);var Da=/^https?$/i,jr=["POST","PUT"];s=Bt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?Ms(this.o):Ms(Bn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){Tu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(jr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){Tu(this,k)}};function Tu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Yn(o)}function Ca(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Yn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||En(o)!=4||o.Z()!=2)){if(o.u&&En(o)==4)je(o.Ea,0,o);else if(jt(o,"readystatechange"),En(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var L=String(o.D).match(Lr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Da.test(L?L.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var k=2<En(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Ca(o)}}finally{Yn(o)}}}}function Yn(o,m){if(o.g){Hr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Hr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function En(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),va(m)}};function Au(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uc(o){const m={};o=(o.g&&2<=En(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(yt(o[T]))continue;var p=O(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[L]||[];m[L]=k,k.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ia(o){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,o),this.cb=Gr("retryDelaySeedMs",1e4,o),this.Wa=Gr("forwardChannelMaxRetries",2,o),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(o&&o.concurrentRequestLimit),this.Da=new kr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){te(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Vu(this,null,this.W),Oa(this)};function Fs(o){if(Su(o),o.G==3){var m=o.U++,p=sn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Qr(o,p),m=new Xe(o,o.j,m),m.L=2,m.v=Pr(sn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Iu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),xr(m)}Cu(o)}function Na(o){o.g&&(Yr(o),o.g.cancel(),o.g=null)}function Su(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ma(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Oa(o){if(!Aa(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||C(),ut||(tt(),ut=!0),Lt.add(m,o),o.B=0}}function Lc(o,m){return Sa(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=fe(I(o.Ga,o,m),Zs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new Xe(this,this.j,o);let k=this.o;if(this.S&&(k?(k=S(k),N(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=bu(this,L,m),p=sn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Qr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Ys(k)))+"&"+m:this.m&&De(p,this.m,k)),ba(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,In(L,p,null)):In(L,p,m),this.G=2}}else this.G==3&&(o?Xs(this,o):this.i.length==0||Aa(this.h)||Xs(this))};function Xs(o,m){var p;m?p=m.l:p=o.U++;const T=sn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),Qr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new Xe(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=bu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ba(o.h,p),In(p,T,m)}function Qr(o,m){o.H&&Pt(o.H,function(p,T){Qt(m,T,p)}),o.l&&ks({},function(p,T){Qt(m,T,p)})}function bu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?I(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const W=["count="+p];k==-1?0<p?(k=L[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let It=!0;for(let Ee=0;Ee<p;Ee++){let Nt=L[Ee].g;const Ce=L[Ee].map;if(Nt-=k,0>Nt)k=Math.max(0,L[Ee].g-100),It=!1;else try{Hn(Ce,W,"req"+Nt+"_")}catch{T&&T(Ce)}}if(It){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function Ru(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||C(),ut||(tt(),ut=!0),Lt.add(m,o),o.v=0}}function Ks(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=fe(I(o.Fa,o),Zs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=fe(I(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Na(this),wu(this))};function Yr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function wu(o){o.g=new Xe(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=sn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),Qr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Pr(sn(m)),p.m=null,p.P=!0,ci(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Na(this),Ks(this),te(19))};function Ma(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function Du(o,m){var p=null;if(o.g==m){Ma(o),Yr(o),o.g=null;var T=2}else if(Bs(o.h,m))p=m.D,Ke(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=zi(),jt(T,new ve(T,p)),Oa(o)}else Ru(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Lc(o,m)||T==2&&Ks(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:yi(o,5);break;case 4:yi(o,10);break;case 3:yi(o,6);break;default:yi(o,2)}}}function Zs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function yi(o,m){if(o.j.info("Error code "+m),m==2){var p=I(o.fb,o),T=o.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||zr(T,"https"),Pr(T),L?qr(T.toString(),p):Nn(T.toString(),p)}else te(2);o.G=0,o.l&&o.l.sa(m),Cu(o),Su(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Cu(o){if(o.G=0,o.ka=[],o.l){const m=qs(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function Vu(o,m,p){var T=p instanceof de?sn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),ji(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new de(null);T&&zr(k,T),m&&(k.g=m),L&&ji(k,L),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),Qr(o,T),T}function Iu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Bt(new Hi({eb:p})):new Bt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}s=Nu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xa(){}xa.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){ae.call(this),this.g=new Ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!yt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!yt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Fs(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Vn(o),o=p);m.i.push(new _u(m.Ya++,o)),m.G==3&&Oa(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Fs(this.g),delete this.g,Ze.aa.N.call(this)};function Ou(o){ui.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Ou,ui);function Mu(){Us.call(this),this.status=1}$(Mu,Us);function Fn(o){this.g=o}$(Fn,Nu),Fn.prototype.ua=function(){jt(this.g,"a")},Fn.prototype.ta=function(o){jt(this.g,new Ou(o))},Fn.prototype.sa=function(o){jt(this.g,new Mu)},Fn.prototype.ra=function(){jt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Q_=function(){return new xa},G_=function(){return zi()},H_=Pn,Xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,ko=qi,oi.COMPLETE="complete",j_=oi,xs.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Bl=xs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,k_=Bt}).apply(typeof Uo<"u"?Uo:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore",My="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new x_("@firebase/firestore");function os(){return ha.logLevel}function at(s,...e){if(ha.logLevel<=xt.DEBUG){const i=e.map(pd);ha.debug(`Firestore (${bs}): ${s}`,...i)}}function xi(s,...e){if(ha.logLevel<=xt.ERROR){const i=e.map(pd);ha.error(`Firestore (${bs}): ${s}`,...i)}}function ys(s,...e){if(ha.logLevel<=xt.WARN){const i=e.map(pd);ha.warn(`Firestore (${bs}): ${s}`,...i)}}function pd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Y_(s,a,i)}function Y_(s,e,i){let a=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw xi(a),new Error(a)}function qt(s,e,i,a){let u="Unexpected state";typeof i=="string"?u=i:a=i,s||Y_(e,u,a)}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Ss{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class U1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class L1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new gr,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const _=h;e.enqueueRetryable((async()=>{await _.promise,await u(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new gr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new F_(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class z1{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class P1{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new z1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,y1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const a=h=>{h.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const u=h=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new xy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=q1(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Ct(s,e){return s<e?-1:s>e?1:0}function Kf(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const u=s.charAt(a),h=e.charAt(a);if(u!==h)return Pf(u)===Pf(h)?Ct(u,h):Pf(u)?1:-1}return Ct(s.length,e.length)}const k1=55296,j1=57343;function Pf(s){const e=s.charCodeAt(0);return e>=k1&&e<=j1}function _s(s,e,i){return s.length===e.length&&s.every(((a,u)=>i(a,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&mt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&mt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Ct(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),u=ti.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class Jt extends ti{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((u=>u.length>0)))}return new Jt(i)}static emptyPath(){return new Jt([])}}const H1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ti{construct(e,i,a){return new qe(e,i,a)}static isValidIdentifier(e){return H1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uy}static keyField(){return new qe([Uy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Jt.fromString(e))}static fromName(e){return new ot(Jt.fromString(e).popFirst(5))}static empty(){return new ot(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(s,e,i){if(!i)throw new rt(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function G1(s,e,i,a){if(e===!0&&a===!0)throw new rt(Q.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ly(s){if(!ot.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function zy(s){if(ot.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function K_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function uc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function fa(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=uc(s);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(s,e){const i={typeString:s};return e&&(i.value=e),i}function iu(s,e){if(!K_(s))throw new rt(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const u=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(u&&typeof d!==u){i=`JSON field '${a}' must be a ${u}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new rt(Q.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-62135596800,By=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*By);return new Wt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Py)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Py;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:_e("string",Wt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Wt(0,0))}static max(){return new _t(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=-1;function Q1(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(a===1e9?new Wt(i+1,0):new Wt(i,a));return new yr(u,ot.empty(),e)}function Y1(s){return new yr(s.readTime,s.key,Kl)}class yr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(_t.min(),ot.empty(),Kl)}static max(){return new yr(_t.max(),ot.empty(),Kl)}}function F1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:Ct(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rs(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==X1)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X(((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):X.reject(i)}static resolve(e){return new X(((i,a)=>{i(e)}))}static reject(e){return new X(((i,a)=>{a(e)}))}static waitFor(e){return new X(((i,a)=>{let u=0,h=0,d=!1;e.forEach((g=>{++u,g.next((()=>{++h,d&&h===u&&i()}),(_=>a(_)))})),d=!0,h===u&&i()}))}static or(e){let i=X.resolve(!1);for(const a of e)i=i.next((u=>u?X.resolve(u):a()));return i}static forEach(e,i){const a=[];return e.forEach(((u,h)=>{a.push(i.call(this,u,h))})),this.waitFor(a)}static mapArray(e,i){return new X(((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next((A=>{d[v]=A,++g,g===h&&a(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new X(((a,u)=>{const h=()=>{e()===!0?i().next((()=>{h()}),u):a()};h()}))}}function Z1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ws(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function cc(s){return s==null}function $o(s){return s===0&&1/s==-1/0}function $1(s){return typeof s=="number"&&Number.isInteger(s)&&!$o(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function J1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=qy(e)),e=W1(s.get(i),e);return qy(e)}function W1(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case Z_:i+="";break;default:i+=h}}return i}function qy(s){return s+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Sr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function $_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lo(this.root,e,this.comparator,!0)}}class Lo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Be.RED,this.left=u??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Be(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Be.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mt(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(e,i,a,u,h){return this}insert(e,i,a){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new J_("Invalid base64 string: "+h):h}})(e);return new ke(i)}static fromUint8Array(e){const i=(function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h})(e);return new ke(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const tA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(s){if(qt(!!s,39018),typeof s=="string"){let e=0;const i=tA.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function vr(s){return typeof s=="string"?ke.fromBase64String(s):ke.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",tv="__type__",ev="__previous_value__",nv="__local_write_time__";function vd(s){return(s?.mapValue?.fields||{})[tv]?.stringValue===W_}function hc(s){const e=s.mapValue.fields[ev];return vd(e)?hc(e):e}function Zl(s){const e=_r(s.mapValue.fields[nv].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,i,a,u,h,d,g,_,v,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const Jo="(default)";class $l{constructor(e,i){this.projectId=e,this.database=i||Jo}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===Jo}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__type__",nA="__max__",zo={mapValue:{}},rv="__vector__",Wo="value";function Er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?vd(s)?4:rA(s)?9007199254740991:iA(s)?10:11:mt(28295,{value:s})}function ai(s,e){if(s===e)return!0;const i=Er(s);if(i!==Er(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Zl(s).isEqual(Zl(e));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=_r(u.timestampValue),g=_r(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(u,h){return vr(u.bytesValue).isEqual(vr(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(u,h){return he(u.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(u.geoPointValue.longitude)===he(h.geoPointValue.longitude)})(s,e);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return he(u.integerValue)===he(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=he(u.doubleValue),g=he(h.doubleValue);return d===g?$o(d)===$o(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return _s(s.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ky(d)!==ky(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ai(d[_],g[_])))return!1;return!0})(s,e);default:return mt(52216,{left:s})}}function Jl(s,e){return(s.values||[]).find((i=>ai(i,e)))!==void 0}function vs(s,e){if(s===e)return 0;const i=Er(s),a=Er(e);if(i!==a)return Ct(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return Hy(s.timestampValue,e.timestampValue);case 4:return Hy(Zl(s),Zl(e));case 5:return Kf(s.stringValue,e.stringValue);case 6:return(function(h,d){const g=vr(h),_=vr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=Ct(g[v],_[v]);if(A!==0)return A}return Ct(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Ct(he(h.latitude),he(d.latitude));return g!==0?g:Ct(he(h.longitude),he(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Gy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},_=d.fields||{},v=g[Wo]?.arrayValue,A=_[Wo]?.arrayValue,D=Ct(v?.values?.length||0,A?.values?.length||0);return D!==0?D:Gy(v,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===zo.mapValue&&d===zo.mapValue)return 0;if(h===zo.mapValue)return 1;if(d===zo.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let D=0;D<_.length&&D<A.length;++D){const I=Kf(_[D],A[D]);if(I!==0)return I;const Y=vs(g[_[D]],v[A[D]]);if(Y!==0)return Y}return Ct(_.length,A.length)})(s.mapValue,e.mapValue);default:throw mt(23264,{he:i})}}function Hy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ct(s,e);const i=_r(s),a=_r(e),u=Ct(i.seconds,a.seconds);return u!==0?u:Ct(i.nanos,a.nanos)}function Gy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=vs(i[u],a[u]);if(h)return h}return Ct(i.length,a.length)}function Es(s){return Zf(s)}function Zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return vr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ot.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Zf(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Zf(i.fields[d])}`;return u+"}"})(s.mapValue):mt(61005,{value:s})}function jo(s){switch(Er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hc(s);return e?16+jo(e):16;case 5:return 2*s.stringValue.length;case 6:return vr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((u,h)=>u+jo(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let u=0;return Sr(a.fields,((h,d)=>{u+=h.length+jo(d)})),u})(s.mapValue);default:throw mt(13486,{value:s})}}function Qy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function $f(s){return!!s&&"integerValue"in s}function Ed(s){return!!s&&"arrayValue"in s}function Yy(s){return!!s&&"nullValue"in s}function Fy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ho(s){return!!s&&"mapValue"in s}function iA(s){return(s?.mapValue?.fields||{})[iv]?.stringValue===rv}function Hl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Hl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Hl(s.arrayValue.values[i]);return e}return{...s}}function rA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===nA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Ho(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(i)}setAll(e){let i=qe.emptyPath(),a={},u=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Hl(d):u.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Ho(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Ho(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,((u,h)=>e[u]=h));for(const u of a)delete e[u]}clone(){return new rn(Hl(this.value))}}function av(s){const e=[];return Sr(s.fields,((i,a)=>{const u=new qe([i]);if(Ho(a)){const h=av(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,_t.min(),_t.min(),_t.min(),rn.empty(),0)}static newFoundDocument(e,i,a,u){return new Fe(e,1,i,_t.min(),a,u,0)}static newNoDocument(e,i){return new Fe(e,2,i,_t.min(),_t.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,_t.min(),_t.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.position=e,this.inclusive=i}}function Xy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=vs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ky(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ai(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i="asc"){this.field=e,this.dir=i}}function aA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{}class ye extends sv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new lA(e,i,a):i==="array-contains"?new cA(e,a):i==="in"?new hA(e,a):i==="not-in"?new fA(e,a):i==="array-contains-any"?new dA(e,a):new ye(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new uA(e,a):new oA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vs(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends sv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ln(e,i)}matches(e){return lv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lv(s){return s.op==="and"}function uv(s){return sA(s)&&lv(s)}function sA(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function Jf(s){if(s instanceof ye)return s.field.canonicalString()+s.op.toString()+Es(s.value);if(uv(s))return s.filters.map((e=>Jf(e))).join(",");{const e=s.filters.map((i=>Jf(i))).join(",");return`${s.op}(${e})`}}function ov(s,e){return s instanceof ye?(function(a,u){return u instanceof ye&&a.op===u.op&&a.field.isEqual(u.field)&&ai(a.value,u.value)})(s,e):s instanceof Ln?(function(a,u){return u instanceof Ln&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce(((h,d,g)=>h&&ov(d,u.filters[g])),!0):!1})(s,e):void mt(19439)}function cv(s){return s instanceof ye?(function(i){return`${i.field.canonicalString()} ${i.op} ${Es(i.value)}`})(s):s instanceof Ln?(function(i){return i.op.toString()+" {"+i.getFilters().map(cv).join(" ,")+"}"})(s):"Filter"}class lA extends ye{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class uA extends ye{constructor(e,i){super(e,"in",i),this.keys=hv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class oA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=hv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hv(s,e){return(e.arrayValue?.values||[]).map((i=>ot.fromName(i.referenceValue)))}class cA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ed(i)&&Jl(i.arrayValue,this.value)}}class hA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Jl(this.value.arrayValue,i)}}class fA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Jl(this.value.arrayValue,i)}}class dA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ed(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Jl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Zy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new mA(s,e,i,a,u,h,d)}function Td(s){const e=vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>Jf(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),cc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Es(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Es(a))).join(",")),e.Te=i}return e.Te}function Ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ov(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ky(s.startAt,e.startAt)&&Ky(s.endAt,e.endAt)}function Wf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gA(s,e,i,a,u,h,d,g){return new Ds(s,e,i,a,u,h,d,g)}function fv(s){return new Ds(s)}function $y(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function dv(s){return s.collectionGroup!==null}function Gl(s){const e=vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(qe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new Wl(h,a))})),i.has(qe.keyField().canonicalString())||e.Ie.push(new Wl(qe.keyField(),a))}return e.Ie}function ei(s){const e=vt(s);return e.Ee||(e.Ee=pA(e,Gl(s))),e.Ee}function pA(s,e){if(s.limitType==="F")return Zy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new Wl(u.field,h)}));const i=s.endAt?new tc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new tc(s.startAt.position,s.startAt.inclusive):null;return Zy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function td(s,e){const i=s.filters.concat([e]);return new Ds(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ed(s,e,i){return new Ds(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function fc(s,e){return Ad(ei(s),ei(e))&&s.limitType===e.limitType}function mv(s){return`${Td(ei(s))}|lt:${s.limitType}`}function cs(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((u=>cv(u))).join(", ")}]`),cc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((u=>Es(u))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((u=>Es(u))).join(",")),`Target(${a})`})(ei(s))}; limitType=${s.limitType})`}function dc(s,e){return e.isFoundDocument()&&(function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,e)&&(function(a,u){for(const h of Gl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0})(s,e)&&(function(a,u){return!(a.startAt&&!(function(d,g,_){const v=Xy(d,g,_);return d.inclusive?v<=0:v<0})(a.startAt,Gl(a),u)||a.endAt&&!(function(d,g,_){const v=Xy(d,g,_);return d.inclusive?v>=0:v>0})(a.endAt,Gl(a),u))})(s,e)}function yA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function gv(s){return(e,i)=>{let a=!1;for(const u of Gl(s)){const h=_A(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function _A(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):(function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?vs(_,v):mt(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,a)=>{for(const[u,h]of a)e(u,h)}))}isEmpty(){return $_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new ie(ot.comparator);function Ui(){return vA}const pv=new ie(ot.comparator);function ql(...s){let e=pv;for(const i of s)e=e.insert(i.key,i);return e}function yv(s){let e=pv;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function oa(){return Ql()}function _v(){return Ql()}function Ql(){return new ma((s=>s.toString()),((s,e)=>s.isEqual(e)))}const EA=new ie(ot.comparator),TA=new Re(ot.comparator);function Vt(...s){let e=TA;for(const i of s)e=e.add(i);return e}const AA=new Re(Ct);function SA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$o(e)?"-0":e}}function vv(s){return{integerValue:""+s}}function bA(s,e){return $1(e)?vv(e):Sd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this._=void 0}}function RA(s,e,i){return s instanceof tu?(function(u,h){const d={fields:{[tv]:{stringValue:W_},[nv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&vd(h)&&(h=hc(h)),h&&(d.fields[ev]=h),{mapValue:d}})(i,e):s instanceof eu?Tv(s,e):s instanceof nu?Av(s,e):(function(u,h){const d=Ev(u,h),g=Jy(d)+Jy(u.Ae);return $f(d)&&$f(u.Ae)?vv(g):Sd(u.serializer,g)})(s,e)}function wA(s,e,i){return s instanceof eu?Tv(s,e):s instanceof nu?Av(s,e):i}function Ev(s,e){return s instanceof ec?(function(a){return $f(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class tu extends mc{}class eu extends mc{constructor(e){super(),this.elements=e}}function Tv(s,e){const i=Sv(e);for(const a of s.elements)i.some((u=>ai(u,a)))||i.push(a);return{arrayValue:{values:i}}}class nu extends mc{constructor(e){super(),this.elements=e}}function Av(s,e){let i=Sv(e);for(const a of s.elements)i=i.filter((u=>!ai(u,a)));return{arrayValue:{values:i}}}class ec extends mc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Jy(s){return he(s.integerValue||s.doubleValue)}function Sv(s){return Ed(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.field=e,this.transform=i}}function CA(s,e){return s.field.isEqual(e.field)&&(function(a,u){return a instanceof eu&&u instanceof eu||a instanceof nu&&u instanceof nu?_s(a.elements,u.elements,ai):a instanceof ec&&u instanceof ec?ai(a.Ae,u.Ae):a instanceof tu&&u instanceof tu})(s.transform,e.transform)}class VA{constructor(e,i){this.version=e,this.transformResults=i}}class Un{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Go(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class gc{}function bv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new bd(s.key,Un.none()):new ru(s.key,s.data,Un.none());{const i=s.data,a=rn.empty();let u=new Re(qe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new br(s.key,a,new mn(u.toArray()),Un.none())}}function IA(s,e,i){s instanceof ru?(function(u,h,d){const g=u.value.clone(),_=t_(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof br?(function(u,h,d){if(!Go(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=t_(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(Rv(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Yl(s,e,i,a){return s instanceof ru?(function(h,d,g,_){if(!Go(h.precondition,d))return g;const v=h.value.clone(),A=e_(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof br?(function(h,d,g,_){if(!Go(h.precondition,d))return g;const v=e_(h.fieldTransforms,_,d),A=d.data;return A.setAll(Rv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((D=>D.field)))})(s,e,i,a):(function(h,d,g){return Go(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function NA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=Ev(a.transform,u||null);h!=null&&(i===null&&(i=rn.empty()),i.set(a.field,h))}return i||null}function Wy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&_s(a,u,((h,d)=>CA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends gc{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class br extends gc{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function t_(s,e,i){const a=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,wA(d,g,i[u]))}return a}function e_(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,RA(h,d,e))}return a}class bd extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OA extends gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&IA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Yl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Yl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=_v();return this.mutations.forEach((u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=bv(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,((i,a)=>Wy(i,a)))&&_s(this.baseMutations,e.baseMutations,((i,a)=>Wy(i,a)))}}class Rd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let u=(function(){return EA})();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new Rd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Mt;function LA(s){switch(s){case Q.OK:return mt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function wv(s){if(s===void 0)return xi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case pe.OK:return Q.OK;case pe.CANCELLED:return Q.CANCELLED;case pe.UNKNOWN:return Q.UNKNOWN;case pe.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case pe.INTERNAL:return Q.INTERNAL;case pe.UNAVAILABLE:return Q.UNAVAILABLE;case pe.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case pe.NOT_FOUND:return Q.NOT_FOUND;case pe.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case pe.ABORTED:return Q.ABORTED;case pe.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case pe.DATA_LOSS:return Q.DATA_LOSS;default:return mt(39323,{code:s})}}(Mt=pe||(pe={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new mr([4294967295,4294967295],0);function n_(s){const e=zA().encode(s),i=new q_;return i.update(e),new Uint8Array(i.digest())}function i_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new mr([i,a],0),new mr([u,h],0)]}class wd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new kl(`Invalid padding: ${i}`);if(a<0)throw new kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new kl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=mr.fromNumber(this.ge)}ye(e,i,a){let u=e.add(i.multiply(mr.fromNumber(a)));return u.compare(PA)===1&&(u=new mr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=n_(e),[a,u]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new wd(h,u,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=n_(e),[a,u]=i_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,u,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new pc(_t.min(),u,new ie(Ct),Ui(),Vt())}}class au{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new au(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i,a,u){this.be=e,this.removedTargetIds=i,this.key=a,this.De=u}}class Dv{constructor(e,i){this.targetId=e,this.Ce=i}}class Cv{constructor(e,i,a=ke.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class r_{constructor(){this.ve=0,this.Fe=a_(),this.Me=ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:mt(38017,{changeType:h})}})),new au(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ui(),this.Je=Po(),this.He=Po(),this.Ye=new ie(Ct)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:mt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,a=e.Ce.count,u=this.ot(i);if(u){const h=u.target;if(Wf(h))if(a===0){const d=new ot(h.path);this.et(i,d,Fe.newNoDocument(d,_t.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=vr(a).toUint8Array()}catch(_){if(_ instanceof J_)return ys("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new wd(d,u,h)}catch(_){return ys(_ instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let u=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Wf(g.target)){const _=new ot(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Fe.newNoDocument(_,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Vt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const u=new pc(e,i,this.Ye,this.je,a);return this.je=Ui(),this.Je=Po(),this.He=Po(),this.Ye=new ie(Ct),u}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new r_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Re(Ct),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Re(Ct),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Po(){return new ie(ot.comparator)}function a_(){return new ie(ot.comparator)}const qA={asc:"ASCENDING",desc:"DESCENDING"},kA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jA={and:"AND",or:"OR"};class HA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(s,e){return s.useProto3Json||cc(e)?e:{value:e}}function nc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function GA(s,e){return nc(s,e.toTimestamp())}function ni(s){return qt(!!s,49232),_t.fromTimestamp((function(i){const a=_r(i);return new Wt(a.seconds,a.nanos)})(s))}function Dd(s,e){return id(s,e).canonicalString()}function id(s,e){const i=(function(u){return new Jt(["projects",u.projectId,"databases",u.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Iv(s){const e=Jt.fromString(s);return qt(Uv(e),10190,{key:e.toString()}),e}function rd(s,e){return Dd(s.databaseId,e.path)}function Bf(s,e){const i=Iv(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(Ov(i))}function Nv(s,e){return Dd(s.databaseId,e)}function QA(s){const e=Iv(s);return e.length===4?Jt.emptyPath():Ov(e)}function ad(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ov(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function s_(s,e,i){return{name:rd(s,e),fields:i.value.mapValue.fields}}function YA(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=(function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),ke.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),ke.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const A=v.code===void 0?Q.UNKNOWN:wv(v.code);return new rt(A,v.message||"")})(d);i=new Cv(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Bf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):_t.min(),g=new rn({mapValue:{fields:a.document.fields}}),_=Fe.newFoundDocument(u,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Qo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Bf(s,a.document),h=a.readTime?ni(a.readTime):_t.min(),d=Fe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Qo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Bf(s,a.document),h=a.removedTargetIds||[];i=new Qo([],h,u,null)}else{if(!("filter"in e))return mt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new UA(u,h),g=a.targetId;i=new Dv(g,d)}}return i}function FA(s,e){let i;if(e instanceof ru)i={update:s_(s,e.key,e.value)};else if(e instanceof bd)i={delete:rd(s,e.key)};else if(e instanceof br)i={update:s_(s,e.key,e.data),updateMask:nS(e.fieldMask)};else{if(!(e instanceof OA))return mt(16599,{Vt:e.type});i={verify:rd(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof tu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof nu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ec)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:GA(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(s,e.precondition)),i}function XA(s,e){return s&&s.length>0?(qt(e!==void 0,14353),s.map((i=>(function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(_t.min())&&(d=ni(h)),new VA(d,u.transformResults||[])})(i,e)))):[]}function KA(s,e){return{documents:[Nv(s,e.path)]}}function ZA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Nv(s,u);const h=(function(v){if(v.length!==0)return xv(Ln.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((A=>(function(I){return{field:hs(I.field),direction:WA(I.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:u}}function $A(s){let e=QA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(D){const I=Mv(D);return I instanceof Ln&&uv(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(D){return D.map((I=>(function($){return new Wl(fs($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(D){let I;return I=typeof D=="object"?D.value:D,cc(I)?null:I})(i.limit));let _=null;i.startAt&&(_=(function(D){const I=!!D.before,Y=D.values||[];return new tc(Y,I)})(i.startAt));let v=null;return i.endAt&&(v=(function(D){const I=!D.before,Y=D.values||[];return new tc(Y,I)})(i.endAt)),gA(e,u,d,h,g,"F",_,v)}function JA(s,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Mv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=fs(i.unaryFilter.field);return ye.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=fs(i.unaryFilter.field);return ye.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=fs(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fs(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ye.create(fs(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ln.create(i.compositeFilter.filters.map((a=>Mv(a))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function WA(s){return qA[s]}function tS(s){return kA[s]}function eS(s){return jA[s]}function hs(s){return{fieldPath:s.canonicalString()}}function fs(s){return qe.fromServerFormat(s.fieldPath)}function xv(s){return s instanceof ye?(function(i){if(i.op==="=="){if(Fy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NAN"}};if(Yy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Fy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NAN"}};if(Yy(i.value))return{unaryFilter:{field:hs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(i.field),op:tS(i.op),value:i.value}}})(s):s instanceof Ln?(function(i){const a=i.getFilters().map((u=>xv(u)));return a.length===1?a[0]:{compositeFilter:{op:eS(i.op),filters:a}}})(s):mt(54877,{filter:s})}function nS(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Uv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,i,a,u,h=_t.min(),d=_t.min(),g=ke.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.yt=e}}function rS(s){const e=$A({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Cn=new sS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(yr.min())}updateCollectionGroup(e,i,a){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class sS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Re(Jt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Lv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ts(0)}static cr(){return new Ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",lS=1048576;function o_([s,e],[i,a]){const u=Ct(s,i);return u===0?Ct(e,a):u}class uS{constructor(e){this.Ir=e,this.buffer=new Re(o_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();o_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){at(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ws(i)?at(u_,"Ignoring IndexedDB error during garbage collection: ",i):await Rs(i)}await this.Vr(3e5)}))}}class cS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return X.resolve(oc.ce);const a=new uS(i);return this.mr.forEachTarget(e,(u=>a.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>a.Ar(u))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(l_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,u,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),u=this.params.maximumSequenceNumbersToCollect):u=D,d=Date.now(),this.nthSequenceNumber(e,u)))).next((D=>(a=D,g=Date.now(),this.removeTargets(e,a,i)))).next((D=>(h=D,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((D=>(v=Date.now(),os()<=xt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${D} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:D}))))}}function hS(s,e){return new cS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.changes=new ma((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(a=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(a!==null&&Yl(a.mutation,u,mn.empty(),Wt.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Vt()){const u=oa();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,a).next((h=>{let d=ql();return h.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=oa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Vt())))}populateOverlays(e,i,a){const u=[];return a.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(e,u).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,u){let h=Ui();const d=Ql(),g=(function(){return Ql()})();return i.forEach(((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof br)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Yl(A.mutation,v,A.mutation.getFieldMask(),Wt.now())):d.set(v.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>g.set(v,new dS(A,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ql();let u=new ie(((d,g)=>d-g)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||mn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const D=(u.get(g.batchId)||Vt()).add(_);u=u.insert(g.batchId,D)}))})).next((()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,D=_v();A.forEach((I=>{if(!h.has(I)){const Y=bv(i.get(I),a.get(I));Y!==null&&D.set(I,Y),h=h.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,D))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,u){return(function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next((h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):X.resolve(oa());let g=Kl,_=h;return d.next((v=>X.forEach(v,((A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next((I=>{_=_.insert(A,I)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,_,v,Vt()))).next((A=>({batchId:g,changes:yv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next((a=>{let u=ql();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=ql();return this.indexManager.getCollectionParents(e,h).next((g=>X.forEach(g,(_=>{const v=(function(D,I){return new Ds(I,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next((A=>{A.forEach(((D,I)=>{d=d.insert(D,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u)))).next((d=>{h.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))}));let g=ql();return d.forEach(((_,v)=>{const A=h.get(_);A!==void 0&&Yl(A.mutation,v,mn.empty(),Wt.now()),dc(i,v)&&(g=g.insert(_,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}})(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:rS(u.bundledQuery),readTime:ni(u.readTime)}})(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.overlays=new ie(ot.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const a=oa();return X.forEach(i,(u=>this.getOverlay(e,u).next((h=>{h!==null&&a.set(u,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((u,h)=>{this.St(e,i,h)})),X.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.qr.get(a);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(e,i,a){const u=oa(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return X.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ie(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=oa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=oa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>g.set(v,A))),!(g.size()>=u)););return X.resolve(g)}St(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(a.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xA(i,a));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.sessionToken=ke.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.Qr=new Re(Oe.$r),this.Ur=new Re(Oe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Oe(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new ot(new Jt([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.Ur.forEachInRange([a,u],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ot(new Jt([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=Vt();return this.Ur.forEachInRange([a,u],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Oe(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ot.comparator(e.key,i.key)||Ct(e.Yr,i.Yr)}static Kr(e,i){return Ct(e.Yr,i.Yr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Oe.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new MA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Zr=this.Zr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.ei(a),h=u<0?0:u;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?_d:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,u],(d=>{const g=this.Xr(d.Yr);h.push(g)})),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Re(Ct);return i.forEach((u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ot(h),0);let g=new Re(Ct);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const u=this.Xr(a);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.ri=e,this.docs=(function(){return new ie(ot.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach((u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Fe.newInvalidDocument(u))})),X.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ui();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||F1(Y1(A),a)<=0||(u.has(A.key)||dc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,a,u){mt(9500)}ii(e,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new ES(this)}getSize(e){return X.resolve(this.size)}}class ES extends fS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.persistence=e,this.si=new ma((i=>Td(i)),Ad),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Cd,this.targetCount=0,this.ai=Ts.ur()}forEachTarget(e,i){return this.si.forEach(((a,u)=>i(u))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ts(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)})),X.waitFor(h).next((()=>u))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((d=>{h.push(u.markPotentiallyOrphaned(e,d))})),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,i){this.ui={},this.overlays={},this.ci=new oc(0),this.li=!1,this.li=!0,this.hi=new yS,this.referenceDelegate=e(this),this.Pi=new TS(this),this.indexManager=new aS,this.remoteDocumentCache=(function(u){return new vS(u)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new iS(i),this.Ii=new gS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new _S(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const u=new AS(this.ci.next());return this.referenceDelegate.Ei(),a(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(e,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class AS extends K1{constructor(e){super(),this.currentSequenceNumber=e}}class Vd{constructor(e){this.persistence=e,this.Ri=new Cd,this.Vi=null}static mi(e){return new Vd(e)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const u=ot.fromPath(a);return this.gi(e,u).next((h=>{h||i.removeEntry(u,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ic{constructor(e,i){this.persistence=e,this.pi=new ma((a=>J1(a.path)),((a,u)=>a.isEqual(u))),this.garbageCollector=hS(this,i)}static mi(e,i){return new ic(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((u=>a+u))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return X.forEach(this.pi,((a,u)=>this.br(e,a,u).next((h=>h?X.resolve():i(u)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=jo(e.data.value)),i}br(e,i,a){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return X.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=u}static As(e,i){let a=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Id(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return mT()?8:Z1(fT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,u,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new SS;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,u){return a.documentReadCount<this.fs?(os()<=xt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(os()<=xt.DEBUG&&at("QueryEngine","Query:",cs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.gs*u?(os()<=xt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):X.resolve())}ys(e,i){if($y(i))return X.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=ed(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.Ds(i,g);return this.Cs(i,v,d,_.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,v,i,_)}))))})))))}ws(e,i,a,u){return $y(i)||u.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,u)?X.resolve(null):(os()<=xt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cs(i)),this.vs(e,d,i,Q1(u,Kl)).next((g=>g)))}))}Ds(e,i){let a=new Re(gv(e));return i.forEach(((u,h)=>{dc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(e,i,a){return os()<=xt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",cs(i)),this.ps.getDocumentsMatchingQuery(e,i,yr.min(),a)}vs(e,i,a,u){return this.ps.getDocumentsMatchingQuery(e,a,u).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="LocalStore",RS=3e8;class wS{constructor(e,i,a,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new ie(Ct),this.xs=new ma((h=>Td(h)),Ad),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function DS(s,e,i,a){return new wS(s,e,i,a)}async function Pv(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next((h=>(u=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let _=Vt();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function CS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const u=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,A){const D=v.batch,I=D.keys();let Y=X.resolve();return I.forEach(($=>{Y=Y.next((()=>A.getEntry(_,$))).next((nt=>{const Z=v.docVersions.get($);qt(Z!==null,48541),nt.version.compareTo(Z)<0&&(D.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))}))})),Y.next((()=>g.mutationQueue.removeMutationBatch(_,D)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,u)))}))}function Bv(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function VS(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const g=[];e.targetChanges.forEach(((A,D)=>{const I=u.get(D);if(!I)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D))));let Y=I.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(D)!==null?Y=Y.withResumeToken(ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,a)),u=u.insert(D,Y),(function(nt,Z,At){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=RS?!0:At.addedDocuments.size+At.modifiedDocuments.size+At.removedDocuments.size>0})(I,Y,A)&&g.push(i.Pi.updateTargetData(h,Y))}));let _=Ui(),v=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(IS(h,d,e.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!a.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(A)}return X.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,_,v))).next((()=>_))})).then((h=>(i.Ms=u,h)))}function IS(s,e,i){let a=Vt(),u=Vt();return i.forEach((h=>a=a.add(h))),e.getEntries(s,a).next((h=>{let d=Ui();return i.forEach(((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):at(Nd,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:u}}))}function NS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=_d),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function OS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let u;return i.Pi.getTargetData(a,e).next((h=>h?(u=h,X.resolve(u)):i.Pi.allocateTargetId(a).next((d=>(u=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,u).next((()=>u)))))))})).then((a=>{const u=i.Ms.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function sd(s,e,i){const a=vt(s),u=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!ws(d))throw d;at(Nd,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(u.target)}function c_(s,e,i){const a=vt(s);let u=_t.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const D=vt(_),I=D.xs.get(A);return I!==void 0?X.resolve(D.Ms.get(I)):D.Pi.getTargetData(v,A)})(a,d,ei(e)).next((g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{h=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?h:Vt()))).next((g=>(MS(a,yA(e),g),{documents:g,Qs:h})))))}function MS(s,e,i){let a=s.Os.get(e)||_t.min();i.forEach(((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(e,a)}class h_{constructor(){this.activeTargetIds=SA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xS{constructor(){this.Mo=new h_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new h_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="ConnectivityMonitor";class d_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(f_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){at(f_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=null;function ld(){return Bo===null?Bo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bo++,"0x"+Bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="RestConnection",LS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${u}`,this.Wo=this.databaseId.database===Jo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Go(e,i,a,u,h){const d=ld(),g=this.zo(e,i.toUriEncodedString());at(qf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:v}=new URL(g),A=md(v);return this.Jo(e,g,_,a,A).then((D=>(at(qf,`Received RPC '${e}' ${d}: `,D),D)),(D=>{throw ys(qf,`RPC '${e}' ${d} failed with error: `,D,"url: ",g,"request:",a),D}))}Ho(e,i,a,u,h,d){return this.Go(e,i,a,u,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>e[h]=u)),a&&a.headers.forEach(((u,h)=>e[h]=u))}zo(e,i){const a=LS[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class BS extends zS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,u,h){const d=ld();return new Promise(((g,_)=>{const v=new k_;v.setWithCredentials(!0),v.listenOnce(j_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ko.NO_ERROR:const D=v.getResponseJson();at(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(D)),g(D);break;case ko.TIMEOUT:at(Qe,`RPC '${e}' ${d} timed out`),_(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ko.HTTP_ERROR:const I=v.getStatus();if(at(Qe,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let Y=v.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const $=Y?.error;if($&&$.status&&$.message){const nt=(function(At){const yt=At.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(yt)>=0?yt:Q.UNKNOWN})($.status);_(new rt(nt,$.message))}else _(new rt(Q.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{at(Qe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);at(Qe,`RPC '${e}' ${d} sending request:`,u),v.send(i,"POST",A,a,15)}))}T_(e,i,a){const u=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Q_(),g=G_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");at(Qe,`Creating RPC '${e}' stream ${u}: ${A}`,_);const D=d.createWebChannel(A,_);this.I_(D);let I=!1,Y=!1;const $=new PS({Yo:Z=>{Y?at(Qe,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(I||(at(Qe,`Opening RPC '${e}' stream ${u} transport.`),D.open(),I=!0),at(Qe,`RPC '${e}' stream ${u} sending:`,Z),D.send(Z))},Zo:()=>D.close()}),nt=(Z,At,yt)=>{Z.listen(At,(ht=>{try{yt(ht)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return nt(D,Bl.EventType.OPEN,(()=>{Y||(at(Qe,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),nt(D,Bl.EventType.CLOSE,(()=>{Y||(Y=!0,at(Qe,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(D))})),nt(D,Bl.EventType.ERROR,(Z=>{Y||(Y=!0,ys(Qe,`RPC '${e}' stream ${u} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new rt(Q.UNAVAILABLE,"The operation could not be completed")))})),nt(D,Bl.EventType.MESSAGE,(Z=>{if(!Y){const At=Z.data[0];qt(!!At,16349);const yt=At,ht=yt?.error||yt[0]?.error;if(ht){at(Qe,`RPC '${e}' stream ${u} received error:`,ht);const kt=ht.status;let Et=(function(S){const w=pe[S];if(w!==void 0)return wv(w)})(kt),Pt=ht.message;Et===void 0&&(Et=Q.INTERNAL,Pt="Unknown error status: "+kt+" with message "+ht.message),Y=!0,$.a_(new rt(Et,Pt)),D.close()}else at(Qe,`RPC '${e}' stream ${u} received:`,At),$.u_(At)}})),nt(g,H_.STAT_EVENT,(Z=>{Z.stat===Xf.PROXY?at(Qe,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Xf.NOPROXY&&at(Qe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(s){return new HA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-a);u>0&&at("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class kv{constructor(e,i,a,u,h,d,g,_){this.Mi=e,this.S_=a,this.b_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,u])=>{this.D_===i&&this.G_(a,u)}),(a=>{e((()=>{const u=new rt(Q.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(u)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{a((()=>this.z_(u)))})),this.stream.onMessage((u=>{a((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return at(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(at(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qS extends kv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=YA(this.serializer,e),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ad(this.serializer),i.addTarget=(function(h,d){let g;const _=d.target;if(g=Wf(_)?{documents:KA(h,_)}:{query:ZA(h,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Vv(h,d.resumeToken);const v=nd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=nc(h,d.snapshotVersion.toTimestamp());const v=nd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const a=JA(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.q_(i)}}class kS extends kv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=XA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>FA(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class HS extends jS{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,a),u,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(Q.UNKNOWN,h.toString())}))}Ho(e,i,a,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,id(i,a),u,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class QS{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(at(da,"Restarting streams for network reachability change."),await(async function(_){const v=vt(_);v.Ea.add(4),await su(v),v.Ra.set("Unknown"),v.Ea.delete(4),await _c(v)})(this))}))})),this.Ra=new GS(a,u)}}async function _c(s){if(ga(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function jv(s,e){const i=vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ud(i)?xd(i):Cs(i).O_()&&Md(i,e))}function Od(s,e){const i=vt(s),a=Cs(i);i.Ia.delete(e),a.O_()&&Hv(i,e),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function Md(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cs(s).Y_(e)}function Hv(s,e){s.Va.Ue(e),Cs(s).Z_(e)}function xd(s){s.Va=new BA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Cs(s).start(),s.Ra.ua()}function Ud(s){return ga(s)&&!Cs(s).x_()&&s.Ia.size>0}function ga(s){return vt(s).Ea.size===0}function Gv(s){s.Va=void 0}async function YS(s){s.Ra.set("Online")}async function FS(s){s.Ia.forEach(((e,i)=>{Md(s,e)}))}async function XS(s,e){Gv(s),Ud(s)?(s.Ra.ha(e),xd(s)):s.Ra.set("Unknown")}async function KS(s,e,i){if(s.Ra.set("Online"),e instanceof Cv&&e.state===2&&e.cause)try{await(async function(u,h){const d=h.cause;for(const g of h.targetIds)u.Ia.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.Ia.delete(g),u.Va.removeTarget(g))})(s,e)}catch(a){at(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await rc(s,a)}else if(e instanceof Qo?s.Va.Ze(e):e instanceof Dv?s.Va.st(e):s.Va.tt(e),!i.isEqual(_t.min()))try{const a=await Bv(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,v)=>{const A=h.Ia.get(_);if(!A)return;h.Ia.set(_,A.withResumeToken(ke.EMPTY_BYTE_STRING,A.snapshotVersion)),Hv(h,_);const D=new hr(A.target,_,v,A.sequenceNumber);Md(h,D)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(da,"Failed to raise snapshot:",a),await rc(s,a)}}async function rc(s,e,i){if(!ws(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),i||(i=()=>Bv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(da,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await _c(s)}))}function Qv(s,e){return e().catch((i=>rc(s,i,e)))}async function vc(s){const e=vt(s),i=Tr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_d;for(;ZS(e);)try{const u=await NS(e.localStore,a);if(u===null){e.Ta.length===0&&i.L_();break}a=u.batchId,$S(e,u)}catch(u){await rc(e,u)}Yv(e)&&Fv(e)}function ZS(s){return ga(s)&&s.Ta.length<10}function $S(s,e){s.Ta.push(e);const i=Tr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Yv(s){return ga(s)&&!Tr(s).x_()&&s.Ta.length>0}function Fv(s){Tr(s).start()}async function JS(s){Tr(s).ra()}async function WS(s){const e=Tr(s);for(const i of s.Ta)e.ea(i.mutations)}async function tb(s,e,i){const a=s.Ta.shift(),u=Rd.from(a,e,i);await Qv(s,(()=>s.remoteSyncer.applySuccessfulWrite(u))),await vc(s)}async function eb(s,e){e&&Tr(s).X_&&await(async function(a,u){if((function(d){return LA(d)&&d!==Q.ABORTED})(u.code)){const h=a.Ta.shift();Tr(a).B_(),await Qv(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u))),await vc(a)}})(s,e),Yv(s)&&Fv(s)}async function g_(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),at(da,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await _c(i)}async function nb(s,e){const i=vt(s);e?(i.Ea.delete(2),await _c(i)):e||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function Cs(s){return s.ma||(s.ma=(function(i,a,u){const h=vt(i);return h.sa(),new qS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:YS.bind(null,s),t_:FS.bind(null,s),r_:XS.bind(null,s),H_:KS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Ud(s)?xd(s):s.Ra.set("Unknown")):(await s.ma.stop(),Gv(s))}))),s.ma}function Tr(s){return s.fa||(s.fa=(function(i,a,u){const h=vt(i);return h.sa(),new kS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:JS.bind(null,s),r_:eb.bind(null,s),ta:WS.bind(null,s),na:tb.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await vc(s)):(await s.fa.stop(),s.Ta.length>0&&(at(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Ld(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(s,e){if(xi("AsyncQueue",`${e}: ${s}`),ws(s))return new rt(Q.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{static emptySet(e){return new ms(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=ql(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ms;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.ga=new ie(ot.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):mt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class As{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new As(e,i,ms.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rb{constructor(){this.queries=y_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const u=vt(i),h=u.queries;u.queries=y_(),h.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function y_(){return new ma((s=>mv(s)),fc)}async function ab(s,e){const i=vt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.ba()&&e.Da()&&(a=2):(h=new ib,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=zd(d,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Pd(i)}async function sb(s,e){const i=vt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?u=e.Da()?0:1:!h.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function lb(s,e){const i=vt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(u)&&(a=!0);d.wa=u}}a&&Pd(i)}function ub(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const h of u.Sa)h.onError(i);a.queries.delete(e)}function Pd(s){s.Ca.forEach((e=>{e.next()}))}var ud,__;(__=ud||(ud={})).Ma="default",__.Cache="cache";class ob{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new As(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.key=e}}class Kv{constructor(e){this.key=e}}class cb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=gv(e),this.tu=new ms(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new p_,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,D)=>{const I=u.get(A),Y=dc(this.query,D)?D:null,$=!!I&&this.mutatedKeys.has(I.key),nt=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let Z=!1;I&&Y?I.data.isEqual(Y.data)?$!==nt&&(a.track({type:3,doc:Y}),Z=!0):this.su(I,Y)||(a.track({type:2,doc:Y}),Z=!0,(_&&this.eu(Y,_)>0||v&&this.eu(Y,v)<0)&&(g=!0)):!I&&Y?(a.track({type:0,doc:Y}),Z=!0):I&&!Y&&(a.track({type:1,doc:I}),Z=!0,(_||v)&&(g=!0)),Z&&(Y?(d=d.add(Y),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,D)=>(function(Y,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return nt(Y)-nt($)})(A.type,D.type)||this.eu(A.doc,D.doc))),this.ou(a),u=u??!1;const g=i&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new As(this.query,e.tu,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new Kv(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new Xv(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return As.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bd="SyncEngine";class hb{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class fb{constructor(e){this.key=e,this.hu=!1}}class db{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ma((g=>mv(g)),fc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ot.comparator),this.Au=new Map,this.Ru=new Cd,this.Vu={},this.mu=new Map,this.fu=Ts.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mb(s,e,i=!0){const a=eE(s);let u;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await Zv(a,e,i,!0),u}async function gb(s,e){const i=eE(s);await Zv(i,e,!0,!1)}async function Zv(s,e,i,a){const u=await OS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await pb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&jv(s.remoteStore,u),g}async function pb(s,e,i,a,u){s.pu=(D,I,Y)=>(async function(nt,Z,At,yt){let ht=Z.view.ru(At);ht.Cs&&(ht=await c_(nt.localStore,Z.query,!1).then((({documents:M})=>Z.view.ru(M,ht))));const kt=yt&&yt.targetChanges.get(Z.targetId),Et=yt&&yt.targetMismatches.get(Z.targetId)!=null,Pt=Z.view.applyChanges(ht,nt.isPrimaryClient,kt,Et);return E_(nt,Z.targetId,Pt.au),Pt.snapshot})(s,D,I,Y);const h=await c_(s.localStore,e,!0),d=new cb(e,h.Qs),g=d.ru(h.documents),_=au.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);E_(s,i,v.au);const A=new hb(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function yb(s,e,i){const a=vt(s),u=a.Tu.get(e),h=a.Iu.get(u.targetId);if(h.length>1)return a.Iu.set(u.targetId,h.filter((d=>!fc(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await sd(a.localStore,u.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Od(a.remoteStore,u.targetId),od(a,u.targetId)})).catch(Rs)):(od(a,u.targetId),await sd(a.localStore,u.targetId,!0))}async function _b(s,e){const i=vt(s),a=i.Tu.get(e),u=i.Iu.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Od(i.remoteStore,a.targetId))}async function vb(s,e,i){const a=wb(s);try{const u=await(function(d,g){const _=vt(d),v=Wt.now(),A=g.reduce(((Y,$)=>Y.add($.key)),Vt());let D,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let $=Ui(),nt=Vt();return _.Ns.getEntries(Y,A).next((Z=>{$=Z,$.forEach(((At,yt)=>{yt.isValidDocument()||(nt=nt.add(At))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Y,$))).next((Z=>{D=Z;const At=[];for(const yt of g){const ht=NA(yt,D.get(yt.key).overlayedDocument);ht!=null&&At.push(new br(yt.key,ht,av(ht.value.mapValue),Un.exists(!0)))}return _.mutationQueue.addMutationBatch(Y,v,At,g)})).next((Z=>{I=Z;const At=Z.applyToLocalDocumentSet(D,nt);return _.documentOverlayCache.saveOverlays(Y,Z.batchId,At)}))})).then((()=>({batchId:I.batchId,changes:yv(D)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),(function(d,g,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new ie(Ct)),v=v.insert(g,_),d.Vu[d.currentUser.toKey()]=v})(a,u.batchId,i),await lu(a,u.changes),await vc(a.remoteStore)}catch(u){const h=zd(u,"Failed to persist write");i.reject(h)}}async function $v(s,e){const i=vt(s);try{const a=await VS(i.localStore,e);e.targetChanges.forEach(((u,h)=>{const d=i.Au.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?qt(d.hu,14607):u.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await lu(i,a,e)}catch(a){await Rs(a)}}function v_(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&u.push(g.snapshot)})),(function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach(((A,D)=>{for(const I of D.Sa)I.va(g)&&(v=!0)})),v&&Pd(_)})(a.eventManager,e),u.length&&a.Pu.H_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Eb(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Au.get(e),h=u&&u.key;if(h){let d=new ie(ot.comparator);d=d.insert(h,Fe.newNoDocument(h,_t.min()));const g=Vt().add(h),_=new pc(_t.min(),new Map,new ie(Ct),d,g);await $v(a,_),a.du=a.du.remove(h),a.Au.delete(e),qd(a)}else await sd(a.localStore,e,!1).then((()=>od(a,e,i))).catch(Rs)}async function Tb(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await CS(i.localStore,e);Wv(i,a,null),Jv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await lu(i,u)}catch(u){await Rs(u)}}async function Ab(s,e,i){const a=vt(s);try{const u=await(function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next((D=>(qt(D!==null,37113),A=D.keys(),_.mutationQueue.removeMutationBatch(v,D)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(a.localStore,e);Wv(a,e,i),Jv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await lu(a,u)}catch(u){await Rs(u)}}function Jv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Wv(s,e,i){const a=vt(s);let u=a.Vu[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Vu[a.currentUser.toKey()]=u}}function od(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||tE(s,a)}))}function tE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Od(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),qd(s))}function E_(s,e,i){for(const a of i)a instanceof Xv?(s.Ru.addReference(a.key,e),Sb(s,a)):a instanceof Kv?(at(Bd,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||tE(s,a.key)):mt(19791,{wu:a})}function Sb(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(at(Bd,"New document in limbo: "+i),s.Eu.add(a),qd(s))}function qd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ot(Jt.fromString(e)),a=s.fu.next();s.Au.set(a,new fb(i)),s.du=s.du.insert(i,a),jv(s.remoteStore,new hr(ei(fv(i.path)),a,"TargetPurposeLimboResolution",oc.ce))}}async function lu(s,e,i){const a=vt(s),u=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){u.push(v);const A=Id.As(_.targetId,v);h.push(A)}})))})),await Promise.all(d),a.Pu.H_(u),await(async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>X.forEach(v,(I=>X.forEach(I.Es,(Y=>A.persistence.referenceDelegate.addReference(D,I.targetId,Y))).next((()=>X.forEach(I.ds,(Y=>A.persistence.referenceDelegate.removeReference(D,I.targetId,Y)))))))))}catch(D){if(!ws(D))throw D;at(Nd,"Failed to update sequence numbers: "+D)}for(const D of v){const I=D.targetId;if(!D.fromCache){const Y=A.Ms.get(I),$=Y.snapshotVersion,nt=Y.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(I,nt)}}})(a.localStore,h))}async function bb(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){at(Bd,"User change. New user:",e.toKey());const a=await Pv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((_=>{_.reject(new rt(Q.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await lu(i,a.Ls)}}function Rb(s,e){const i=vt(s),a=i.Au.get(e);if(a&&a.hu)return Vt().add(a.key);{let u=Vt();const h=i.Iu.get(e);if(!h)return u;for(const d of h){const g=i.Tu.get(d);u=u.unionWith(g.view.nu)}return u}}function eE(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=$v.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Eb.bind(null,e),e.Pu.H_=lb.bind(null,e.eventManager),e.Pu.yu=ub.bind(null,e.eventManager),e}function wb(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ab.bind(null,e),e}class ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return DS(this.persistence,new bS,e.initialUser,this.serializer)}Cu(e){return new zv(Vd.mi,this.serializer)}Du(e){return new xS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ac.provider={build:()=>new ac};class Db extends ac{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof ic,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new oS(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new zv((a=>ic.mi(a,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>v_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bb.bind(null,this.syncEngine),await nb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rb})()}createDatastore(e){const i=yc(e.databaseInfo.databaseId),a=(function(h){return new BS(h)})(e.databaseInfo);return(function(h,d,g,_){return new HS(h,d,g,_)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,u,h,d,g){return new QS(a,u,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>v_(this.syncEngine,i,0)),(function(){return d_.v()?new d_:new US})())}createSyncEngine(e,i){return(function(u,h,d,g,_,v,A){const D=new db(u,h,d,g,_,v);return A&&(D.gu=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);at(da,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class Vb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{at(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=zd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function jf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Ar,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async u=>{a.isEqual(u)||(await Pv(e.localStore,u),a=u)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function T_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Ib(s);at(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>g_(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,u)=>g_(e.remoteStore,u))),s._onlineComponents=e}async function Ib(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Ar,"Using user provided OfflineComponentProvider");try{await jf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===Q.FAILED_PRECONDITION||u.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;ys("Error using user provided cache. Falling back to memory cache: "+i),await jf(s,new ac)}}else at(Ar,"Using default OfflineComponentProvider"),await jf(s,new Db(void 0));return s._offlineComponents}async function nE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Ar,"Using user provided OnlineComponentProvider"),await T_(s,s._uninitializedComponentsProvider._online)):(at(Ar,"Using default OnlineComponentProvider"),await T_(s,new cd))),s._onlineComponents}function Nb(s){return nE(s).then((e=>e.syncEngine))}async function Ob(s){const e=await nE(s),i=e.eventManager;return i.onListen=mb.bind(null,e.syncEngine),i.onUnlisten=yb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=gb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_b.bind(null,e.syncEngine),i}function Mb(s,e,i={}){const a=new gr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,_,v){const A=new Cb({next:I=>{A.Nu(),d.enqueueAndForget((()=>sb(h,D))),I.fromCache&&_.source==="server"?v.reject(new rt(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),D=new ob(g,A,{includeMetadataChanges:!0,qa:!0});return ab(h,D)})(await Ob(s),s.asyncQueue,e,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firestore.googleapis.com",S_=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rE,this.ssl=S_}else this.host=e.host,this.ssl=e.ssl??S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lS)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,u){return a.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ec{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new x1;switch(a.type){case"firstParty":return new P1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=A_.get(i);a&&(at("ComponentProvider","Removing Datastore"),A_.delete(i),a.terminate())})(this),Promise.resolve()}}function xb(s,e,i,a={}){s=fa(s,Ec);const u=md(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;u&&(lT(`https://${g}`),hT("Firestore",!0)),h.host!==rE&&h.host!==g&&ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:g,ssl:u,emulatorOptions:a};if(!Xo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Ye.MOCK_USER;else{v=uT(a.mockUserToken,s._app?.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(D)}s._authCredentials=new U1(new F_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(iu(i,be._jsonSchema))return new be(e,a||null,new ot(Jt.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:_e("string",be._jsonSchemaVersion),referencePath:_e("string")};class pr extends pa{constructor(e,i,a){super(e,i,fv(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new ot(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function Tc(s,e,...i){if(s=Oi(s),X_("collection","path",e),s instanceof Ec){const a=Jt.fromString(e,...i);return zy(a),new pr(s,null,a)}{if(!(s instanceof be||s instanceof pr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return zy(a),new pr(s.firestore,null,a)}}function sc(s,e,...i){if(s=Oi(s),arguments.length===1&&(e=yd.newId()),X_("doc","path",e),s instanceof Ec){const a=Jt.fromString(e,...i);return Ly(a),new be(s,null,new ot(a))}{if(!(s instanceof be||s instanceof pr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return Ly(a),new be(s.firestore,s instanceof pr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class w_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qv(this,"async_queue_retry"),this._c=()=>{const a=kf();a&&at(R_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ws(e))throw e;at(R_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",D_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Ld.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&mt(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function D_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class uu extends Ec{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new w_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w_(e),this._firestoreClient=void 0,await e}}}function Ub(s,e){const i=typeof s=="object"?s:T1(),a=typeof s=="string"?s:Jo,u=p1(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=aT("firestore");h&&xb(u,...h)}return u}function aE(s){if(s._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Lb(s),s._firestoreClient}function Lb(s){const e=s._freezeSettings(),i=(function(u,h,d,g){return new eA(u,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,iE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Vb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(ke.fromBase64String(e))}catch(i){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(ke.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:_e("string",Cn._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(iu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:_e("string",ii._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new rt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:_e("string",ri._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=/^__.*__$/;class Pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}class sE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new br(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class kd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lE(this.Ac)&&zb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||yc(e)}Cc(e,i,a,u=!1){return new kd({Ac:e,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jd(s){const e=s._freezeSettings(),i=yc(s._databaseId);return new Bb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function qb(s,e,i,a,u,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,u);Gd("Data must be an object, but it was:",d,a);const g=uE(a,d);let _,v;if(h.merge)_=new mn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const I=hd(e,D,i);if(!d.contains(I))throw new rt(Q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);cE(A,I)||A.push(I)}_=new mn(A),v=d.fieldTransforms.filter((D=>_.covers(D.field)))}else _=null,v=d.fieldTransforms;return new Pb(new rn(g),_,v)}class bc extends Sc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bc}}class Hd extends Sc{_toFieldTransform(e){return new DA(e.path,new tu)}isEqual(e){return e instanceof Hd}}function kb(s,e,i,a){const u=s.Cc(1,e,i);Gd("Data must be an object, but it was:",u,a);const h=[],d=rn.empty();Sr(a,((_,v)=>{const A=Qd(e,_,i);v=Oi(v);const D=u.yc(A);if(v instanceof bc)h.push(A);else{const I=ou(v,D);I!=null&&(h.push(A),d.set(A,I))}}));const g=new mn(h);return new sE(d,g,u.fieldTransforms)}function jb(s,e,i,a,u,h){const d=s.Cc(1,e,i),g=[hd(e,a,i)],_=[u];if(h.length%2!=0)throw new rt(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)g.push(hd(e,h[I])),_.push(h[I+1]);const v=[],A=rn.empty();for(let I=g.length-1;I>=0;--I)if(!cE(v,g[I])){const Y=g[I];let $=_[I];$=Oi($);const nt=d.yc(Y);if($ instanceof bc)v.push(Y);else{const Z=ou($,nt);Z!=null&&(v.push(Y),A.set(Y,Z))}}const D=new mn(v);return new sE(A,D,d.fieldTransforms)}function Hb(s,e,i,a=!1){return ou(i,s.Cc(a?4:3,e))}function ou(s,e){if(oE(s=Oi(s)))return Gd("Unsupported field value:",e,s),uE(s,e);if(s instanceof Sc)return(function(a,u){if(!lE(u.Ac))throw u.Sc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,u){const h=[];let d=0;for(const g of a){let _=ou(g,u.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}})(s,e)}return(function(a,u){if((a=Oi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Wt.fromDate(a);return{timestampValue:nc(u.serializer,h)}}if(a instanceof Wt){const h=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:nc(u.serializer,h)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Cn)return{bytesValue:Vv(u.serializer,a._byteString)};if(a instanceof be){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof ri)return(function(d,g){return{mapValue:{fields:{[iv]:{stringValue:rv},[Wo]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Sd(g.serializer,v)}))}}}}}})(a,u);throw u.Sc(`Unsupported field value: ${uc(a)}`)})(s,e)}function uE(s,e){const i={};return $_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,((a,u)=>{const h=ou(u,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function oE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof ii||s instanceof Cn||s instanceof be||s instanceof Sc||s instanceof ri)}function Gd(s,e,i){if(!oE(i)||!K_(i)){const a=uc(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function hd(s,e,i){if((e=Oi(e))instanceof Ac)return e._internalPath;if(typeof e=="string")return Qd(s,e);throw lc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Gb=new RegExp("[~\\*/\\[\\]]");function Qd(s,e,i){if(e.search(Gb)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ac(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lc(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new rt(Q.INVALID_ARGUMENT,g+s+_)}function cE(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Rc("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Qb extends hE{data(){return super.data()}}function Rc(s,e){return typeof e=="string"?Qd(s,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yd{}class fE extends Yd{}function Fd(s,e,...i){let a=[];e instanceof Yd&&a.push(e),a=a.concat(i),(function(h){const d=h.filter((_=>_ instanceof Kd)).length,g=h.filter((_=>_ instanceof wc)).length;if(d>1||d>0&&g>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const u of a)s=u._apply(s);return s}class wc extends fE{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new wc(e,i,a)}_apply(e){const i=this._parse(e);return dE(e._query,i),new pa(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=jd(e.firestore);return(function(h,d,g,_,v,A,D){let I;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){V_(D,A);const $=[];for(const nt of D)$.push(C_(_,h,nt));I={arrayValue:{values:$}}}else I=C_(_,h,D)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||V_(D,A),I=Hb(g,d,D,A==="in"||A==="not-in");return ye.create(v,A,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Xd(s,e,i){const a=e,u=Rc("where",s);return wc._create(u,a,i)}class Kd extends Yd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Kd(e,i)}_parse(e){const i=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,h){let d=u;const g=h.getFlattenedFilters();for(const _ of g)dE(d,_),d=td(d,_)})(e._query,i),new pa(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zd extends fE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Zd(e,i)}_apply(e){const i=(function(u,h,d){if(u.startAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wl(h,d)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,(function(u,h){const d=u.explicitOrderBy.concat([h]);return new Ds(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)})(e._query,i))}}function Fb(s,e="asc"){const i=e,a=Rc("orderBy",s);return Zd._create(a,i)}function C_(s,e,i){if(typeof(i=Oi(i))=="string"){if(i==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dv(e)&&i.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ot.isDocumentKey(a))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Qy(s,new ot(a))}if(i instanceof be)return Qy(s,i._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uc(i)}.`)}function V_(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dE(s,e){const i=(function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Xb{convertValue(e,i="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw mt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,((u,h)=>{a[u]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[Wo].arrayValue?.values?.map((a=>he(a.doubleValue)));return new ri(i)}convertGeoPoint(e){return new ii(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=hc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Zl(e));default:return null}}convertTimestamp(e){const i=_r(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);qt(Uv(a),9688,{name:e});const u=new $l(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class qo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gs extends hE{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Rc("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:_e("string",gs._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Yo extends gs{data(e={}){return super.data(e)}}class ps{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new qo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Yo(this._firestore,this._userDataWriter,a.key,a,new qo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((g=>{const _=new Yo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new qo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const _=new Yo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new qo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Zb(g.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ps._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}ps._jsonSchemaVersion="firestore/querySnapshot/1.0",ps._jsonSchema={type:_e("string",ps._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class $b extends Xb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function $d(s){s=fa(s,pa);const e=fa(s.firestore,uu),i=aE(e),a=new $b(e);return Yb(s._query),Mb(i,s._query).then((u=>new ps(e,a,s,u)))}function mE(s,e,i,...a){s=fa(s,be);const u=fa(s.firestore,uu),h=jd(u);let d;return d=typeof(e=Oi(e))=="string"||e instanceof Ac?jb(h,"updateDoc",s._key,e,i,a):kb(h,"updateDoc",s._key,e),Jd(u,[d.toMutation(s._key,Un.exists(!0))])}function Jb(s){return Jd(fa(s.firestore,uu),[new bd(s._key,Un.none())])}function Wb(s,e){const i=fa(s.firestore,uu),a=sc(s),u=Kb(s.converter,e);return Jd(i,[qb(jd(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Un.exists(!1))]).then((()=>a))}function Jd(s,e){return(function(a,u){const h=new gr;return a.asyncQueue.enqueueAndForget((async()=>vb(await Nb(a),u,h))),h.promise})(aE(s),e)}function Wd(){return new Hd("serverTimestamp")}(function(e,i=!0){(function(u){bs=u})(E1),Zo(new Fl("firestore",((a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new uu(new L1(a.getProvider("auth-internal")),new B1(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(v.options.projectId,A)})(d,u),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ds(Oy,My,e),ds(Oy,My,"esm2020")})();const tR={apiKey:"AIzaSyAQrxoIeQfRGX9PCc9VYUAo04J_tadmAJM",authDomain:"bookclub-d50d6.firebaseapp.com",projectId:"bookclub-d50d6",storageBucket:"bookclub-d50d6.firebasestorage.app",messagingSenderId:"590674284",appId:"1:590674284:web:53f5bf7d94ae43f4bf1b49",measurementId:"G-0PY2MNBZ1B"},eR=z_(tR),ca=Ub(eR);function nR(){const[s,e]=Je.useState([]),[i,a]=Je.useState(!0);Je.useEffect(()=>{(async()=>{a(!0);const d=Fd(Tc(ca,"books"),Xd("status","==","Reading")),_=(await $d(d)).docs.map(v=>({id:v.id,...v.data()}));e(_),a(!1)})()},[]);const u=async h=>{const d=prompt("Enter the date you finished reading (YYYY-MM-DD):");if(!d)return;const g=sc(ca,"books",h);await mE(g,{status:"Read",readDate:d,timestamp:Wd()}),e(_=>_.filter(v=>v.id!==h))};return i?it.jsx("p",{children:"Loading..."}):s.length===0?it.jsx("p",{children:"No books currently reading."}):it.jsxs("div",{className:"currently-reading",children:[it.jsx("p",{className:"header",children:"Current Book"}),s.map(h=>it.jsxs("div",{className:"book",children:[it.jsx("div",{className:"cover",children:it.jsx("img",{src:h.thumbnail,alt:h.title})}),it.jsxs("div",{children:[it.jsx("p",{className:"title",children:h.title}),h.authors?.length>0&&it.jsx("p",{className:"author",children:h.authors.join(", ")}),it.jsxs("p",{className:"pages",children:[h.pageCount," pages"]}),it.jsx("p",{className:"description",children:h.description}),it.jsx("button",{onClick:()=>u(h.id),children:"Read"})]})]},h.id))]})}function iR(){const[s,e]=Je.useState([]),[i,a]=Je.useState(!0);Je.useEffect(()=>{(async()=>{a(!0);const d=Fd(Tc(ca,"books"),Xd("status","==","Read"),Fb("readDate","desc")),g=await $d(d);e(g.docs.map(_=>({id:_.id,..._.data()}))),a(!1)})()},[]);const u=({book:h})=>it.jsxs("div",{className:"book",children:[it.jsx("div",{className:"cover",children:it.jsx("img",{src:h.thumbnail,alt:h.title})}),it.jsxs("div",{children:[it.jsx("p",{className:"title",children:h.title}),h.authors?.length>0&&it.jsx("p",{className:"author",children:h.authors.join(", ")}),it.jsxs("p",{className:"pages",children:[h.pageCount," pages"]}),it.jsxs("p",{className:"read-date",children:["Finished on ",h.readDate]}),it.jsx("p",{className:"description",children:h.description})]})]},h.id);return it.jsx("div",{className:"book",children:i?it.jsx("p",{children:"Loading..."}):s.length===0?it.jsx("p",{children:"No books read yet."}):s.map(h=>it.jsx(u,{book:h},h.id))})}function rR(){const[s,e]=Je.useState([]),[i,a]=Je.useState(!0),u=async()=>{a(!0);const _=Fd(Tc(ca,"books"),Xd("status","==","Save")),v=await $d(_);e(v.docs.map(A=>({id:A.id,...A.data()}))),a(!1)};Je.useEffect(()=>{u()},[]);const h=async(_,v)=>{const A=sc(ca,"books",_);await mE(A,{status:v,timestamp:Wd()}),u()},d=async _=>{if(window.confirm("Are you sure you want to delete this book?"))try{await Jb(sc(ca,"books",_)),u()}catch(v){console.error("Failed to delete book:",v),alert("Failed to delete book.")}},g=({book:_})=>it.jsxs("div",{className:"book",children:[it.jsx("div",{className:"cover",children:it.jsx("img",{src:_.thumbnail,alt:_.title})}),it.jsxs("div",{children:[it.jsx("p",{className:"title",children:_.title}),_.authors?.length>0&&it.jsx("p",{className:"author",children:_.authors.join(", ")}),it.jsxs("p",{className:"pages",children:[_.pageCount," pages"]}),it.jsx("p",{className:"description",children:_.description}),it.jsxs("div",{className:"buttons",children:[it.jsx("button",{onClick:()=>h(_.id,"Reading"),children:"Read Book"}),it.jsx("button",{onClick:()=>d(_.id),children:"Delete"})]})]})]},_.id);return it.jsxs("div",{className:"book",children:[it.jsx("p",{className:"heading",children:"Suggested Future Books"}),i?it.jsx("p",{children:"Loading..."}):s.length===0?it.jsx("p",{children:"No next books saved."}):s.map(_=>it.jsx(g,{book:_},_.id))]})}function aR({onBookSaved:s}){const[e,i]=Je.useState(""),[a,u]=Je.useState([]),[h,d]=Je.useState(!1),[g,_]=Je.useState(!1),v=async()=>{if(e.trim()){d(!0),_(!0);try{const $=((await(await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(e)}&maxResults=10`)).json()).items||[]).map(nt=>{const Z=nt.volumeInfo;return{id:nt.id,title:Z.title||"Untitled",authors:Z.authors||[],publishedDate:Z.publishedDate||"N/A",pageCount:Z.pageCount||"N/A",thumbnail:Z.imageLinks?.thumbnail||"https://via.placeholder.com/128x195?text=No+Cover",averageRating:Z.averageRating||"N/A",description:Z.description||"No description available"}});u($)}catch(D){console.error("Error fetching books:",D)}d(!1)}},A=async D=>{try{await Wb(Tc(ca,"books"),{...D,status:"Save",timestamp:Wd()}),alert("Book saved to Next Books"),s&&s()}catch(I){console.error(I),alert("Failed to save book.")}};return it.jsxs("div",{children:[it.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[it.jsx("input",{type:"text",value:e,placeholder:"Search by title, author, or ISBN",onChange:D=>i(D.target.value),onKeyDown:D=>D.key==="Enter"&&v(),style:{flex:1,padding:"0.5rem"}}),it.jsx("button",{onClick:v,style:{padding:"0.5rem 1rem"},children:"Search"})]}),h&&it.jsx("p",{children:"Searching..."}),!h&&a.length===0&&g&&it.jsx("p",{children:"No results found."}),it.jsx("div",{style:{display:"grid",gap:"1rem"},children:a.map(D=>it.jsxs("div",{className:"book",children:[it.jsx("div",{className:"cover",children:it.jsx("img",{src:D.thumbnail,alt:D.title})}),it.jsxs("div",{children:[it.jsx("p",{className:"title",children:D.title}),D.authors?.length>0&&it.jsx("p",{className:"author",children:D.authors.join(", ")}),it.jsxs("p",{className:"pages",children:[D.pageCount," pages"]}),it.jsx("p",{className:"description",children:D.description}),it.jsx("div",{className:"buttons",children:it.jsx("button",{onClick:()=>A(D),children:"Save"})})]})]},D.id))})]})}function sR(){const[s,e]=Je.useState("currentlyReading");return it.jsxs("div",{style:{maxWidth:800,margin:"2rem auto",padding:"1rem"},children:[it.jsx("p",{className:"app-title",children:"Book Club Tracker"}),it.jsxs("nav",{className:"navbar",children:[it.jsx("button",{onClick:()=>e("currentlyReading"),children:"Currently Reading"}),it.jsx("button",{onClick:()=>e("readBooks"),children:"Previously Read"}),it.jsx("button",{onClick:()=>e("nextBooks"),children:"Next Book Ideas"}),it.jsx("button",{onClick:()=>e("search"),children:"Search"})]}),s==="currentlyReading"&&it.jsx(nR,{}),s==="readBooks"&&it.jsx(iR,{}),s==="nextBooks"&&it.jsx(rR,{}),s==="search"&&it.jsx(aR,{})]})}X0.createRoot(document.getElementById("root")).render(it.jsx(Je.StrictMode,{children:it.jsx(sR,{})}));
